<html>

<head>
    <meta charset="utf-8" />
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>
    php | buzi
</title>
<link rel="shortcut icon" href="https://littlebuzi.github.io//favicon.ico?v=1620229439110">
<!-- <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous"> -->
<link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://littlebuzi.github.io//styles/main.css">
<!-- js -->
<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
<script src="https://littlebuzi.github.io//media/js/jquery.sticky-sidebar.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/moment.js/2.23.0/moment.min.js"></script>


</head>

<body>
    <div class="main">
        <style>

.header-navigation {
	position:fixed;
	top:0;
	width:100%;
	height:60px;
	line-height:60px;
	background-color:#333;
	text-align:center;
	box-shadow:0 14px 28px rgba(0,0,0,0.25),0 10px 10px rgba(0,0,0,0.22);
	z-index:9999;
}

/* Slide transitions */

	.slideUp {
	/* -webkit-transform:translateY(-100px);
	transform:translateY(-100px);
	*/
	  -webkit-transform:translateY(-100px);
	-ms-transform:translateY(-100px);
	-o-transform:translateY(-100px);
	transform:translateY(-100px);
	/*transition:transform .5s ease-out;
	*/
	  -webkit-transition:transform .5s ease-out;
	-o-transition:transform .5s ease-out;
	transition:transform .5s ease-out;
}
.slideDown {
	/*-webkit-transform:translateY(0);
	transform:translateY(0);
	*/
	  -webkit-transform:translateY(0);
	-ms-transform:translateY(0);
	-o-transform:translateY(0);
	transform:translateY(0);
	/*transition:transform .5s ease-out;
	*/
	  -webkit-transition:transform .5s ease-out;
	-o-transition:transform .5s ease-out;
	transition:transform .5s ease-out;
}
</style>

<div class="header" class="header-navigation" id="header">
    <div class="nav">
        <div class="logo">
            <a href="https://littlebuzi.github.io/">
                <img class="avatar" src="https://littlebuzi.github.io//images/avatar.png?v=1620229439110" alt="">
            </a>
            <div class="site-title">
                <h1>
                    buzi
                </h1>
            </div>
        </div>
        <span class="menu-btn fa fa-align-justify"></span>
        <div class="menu-container">
            <ul>
                
                    
                            <li>
                                <a href="/" class="menu">
                                    首页
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/archives" class="menu">
                                    时间线
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/tags" class="menu">
                                    分类
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="https://littlebuzi.github.io/about" class="menu">
                                    关于
                                </a>
                            </li>
                            
                                
            </ul>
        </div>
    </div>
</div>

<script>
var new_scroll_position = 0;
var last_scroll_position;
var header = document.getElementById("header");

window.addEventListener('scroll', function(e) {
    last_scroll_position = window.scrollY;

    // Scrolling down
    if (new_scroll_position < last_scroll_position && last_scroll_position > 80) {
        // header.removeClass('slideDown').addClass('slideUp');
        header.classList.remove("slideDown");
        header.classList.add("slideUp");

        // Scrolling up
    } else if (new_scroll_position > last_scroll_position) {
        // header.removeClass('slideUp').addClass('slideDown');
        header.classList.remove("slideUp");
        header.classList.add("slideDown");
    }

    new_scroll_position = last_scroll_position;
});
</script>

<script>
    $(document).ready(function() {
        $(".menu-btn").click(function() {
            $(".menu-container").slideToggle();
        });
        $(window).resize(function() {

            if (window.matchMedia('(min-width: 960px)').matches) {
                $(".menu-container").css('display', 'block')
            } else {
                $(".menu-container").css('display', 'none')
            }

        });
    });
</script>

            <div id="main-content" class="post-container main-container">
                <div id="content" class="main-container-left">
                    
    <div class="i-card">
        <b>标签：#
        php</b>
    </div>
    
        
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://littlebuzi.github.io/learn_php/">
                        PHP学习路线
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2020-04-16</time>
                    
                        <a href="https://littlebuzi.github.io/O2zTJWpBN/" class="post-tag i-tag
                            i-tag-info">
            #php
        </a>
                        
                </div>
                <div class="post-article">
                    
                        <a href="https://littlebuzi.github.io/learn_php/" class="post-feature-image" style="background-image:url(https://littlebuzi.github.io//post-images/learn_php.jpg) ">
                        </a>
                        
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            免费php学习课程：
https://www.imooc.com/course/list?c=php
PHP基础篇上、中、下（归纳编辑于）：
已收录：
1.PHP入门篇：https://www.imooc.com/view/54
2.PHP进阶篇：https://www.imooc.com/view/26
未收录：
PHP7的基本变量：https://www.imooc.com/learn/1085
PHP+Mysql+Ajax实现分页：https://www.imooc.com/learn/1117
PHP-面向对象：https://www.imooc.com/learn/887
PHP函数篇：https://www.imooc.com/learn/827
PHP扩展安装指南：https://www.imooc.com/learn/757
PHP进阶篇-字符串操作：https://www.imooc.com/learn/726

                                        </div>
                                        
                                            <a class="btn btn-text" href="https://littlebuzi.github.io/learn_php/">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://littlebuzi.github.io/learn_php_3/">
                        PHP基础学习笔记(下)
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2020-04-15</time>
                    
                        <a href="https://littlebuzi.github.io/O2zTJWpBN/" class="post-tag i-tag
                            i-tag-">
            #php
        </a>
                        
                </div>
                <div class="post-article">
                    
                        <a href="https://littlebuzi.github.io/learn_php_3/" class="post-feature-image" style="background-image:url(https://littlebuzi.github.io//post-images/learn_php_3.jpg) ">
                        </a>
                        
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            一、数据库
数据库操作
PHP通过安装相应的扩展来实现数据库操作
当前主流的数据库有：
MsSQL，MySQL，Sybase，Db2，Oracle，PostgreSQL，Access
一般情况下常说的LAMP架构指的是：
Linux、Apache、Mysql、PHP
if (function_exists(&#39;mysql_connect&#39;)) {
    echo &#39;Mysql扩展已经安装&#39;;
}

数据库扩展
数据库可能有一个或者多个扩展，其中既有官方的，也有第三方提供的。
像Mysql常用的扩展有原生的mysql库，可使用增强版的mysqli扩展，或使用PDO进行连接与操作。
不同的扩展提供基本相近的操作方法，不同的是可能具备一些新特性，以及操作性能可能会有所不同。
mysql扩展进行数据库连接的方法：
$link = mysql_connect(&#39;mysql_host&#39;, &#39;mysql_user&#39;, &#39;mysql_password&#39;);

mysqli扩展：
$link = mysqli_connect(&#39;mysql_host&#39;, &#39;mysql_user&#39;, &#39;mysql_password&#39;);

PDO扩展：
$dsn = &#39;mysql:dbname=testdb;host=127.0.0.1&#39;;
$user = &#39;dbuser&#39;;
$password = &#39;dbpass&#39;;
$dbh = new PDO($dsn, $user, $password);

连接MySQL数据库
指定数据库的地址，用户名及密码。
$host = &#39;localhost&#39;;
$user = &#39;code1&#39;;
$pass = &#39;666&#39;;
$link = mysql_connect($host, $user, $pass);

选择一个操作的数据库，mysql_select_db函数选择数据库。
mysql_select_db(&#39;code1&#39;);

设置当前连接使用的字符编码，一般使用utf8编码。
mysql_query(&amp;quot;set names &#39;utf8&#39;&amp;quot;);

执行MySQL查询
采用mysql_query加sql语句的形式向数据库发送查询指令。
$res = mysql_query(&#39;select * from user&#39;);
查询类的语句会返回一个资源句柄（resource），可以通过该资源获取查询结果集中的数据。
$row = mysql_fetch_array($res);
var_dump($row);

默认的，PHP使用最近的数据库连接执行查询，
但如果存在多个连接的情况，则可以通过参数指令从那个连接中进行查询。

$link1 = mysql_connect(&#39;127.0.0.1&#39;, &#39;code1&#39;, &#39;&#39;);
$link2 = mysql_connect(&#39;127.0.0.1&#39;, &#39;code1&#39;, &#39;&#39;, true); //开启一个新的连接
$res = mysql_query(&#39;select * from user limit 1&#39;, $link1); //从第一个连接中查询数据

插入数据到MySQL
$sql = &amp;quot;insert into user(name, age, class) values(&#39;李四&#39;, 18, &#39;高三一班&#39;)&amp;quot;;
mysql_query($sql); //执行插入语句

//或
$name = &#39;李四&#39;;
$age = 18;
$class = &#39;高三一班&#39;;
$sql = &amp;quot;insert into user(name, age, class) values(&#39;$name&#39;, &#39;$age&#39;, &#39;$class&#39;)&amp;quot;;
mysql_query($sql); //执行插入语句

//mysql_insert_id函数可以获取自增的主键id。
$uid = mysql_insert_id();
//可以用来判断是否插入成功，或者作为关联ID进行其他的数据操作。

取得数据查询结果
PHP有多个函数可以获取数据集中的一行数据，最常用的是mysql_fetch_array，
可以通过设定参数来更改行数据的下标，默认的会包含数字索引的下标以及字段名的关联索引下标。
$sql = &amp;quot;select * from user limit 1&amp;quot;;
$result = mysql_query($sql);
$row = mysql_fetch_array($result);

可以通过设定参数MYSQL_NUM只获取数字索引数组，等同于mysql_fetch_row函数，
如果设定参数为MYSQL_ASSOC则只获取关联索引数组，等同于mysql_fetch_assoc函数。
$row = mysql_fetch_row($result);
$row = mysql_fetch_array($result, MYSQL_NUM); //这两个方法获取的数据是一样的
$row = mysql_fetch_assoc($result);
$row = mysql_fetch_array($result, MYSQL_ASSOC);

如果要获取数据集中的所有数据，我们通过循环来遍历整个结果集。
$data = array();
while ($row = mysql_fetch_array($result)) {
    $data[] = $row;
}

查询分页数据
通过mysql的limit可以很容易的实现分页，limit m,n表示从m行后取n行数据，要构造m与n来实现获取某一页的所有数据。
假定当前页为page，每页显示page，每页显示page，每页显示n条数据，那么m为当前页前面所有的数据，
既m=(m = (m=(page-1) * $n，通过构造SQL语句在PHP中实现数据翻页。
$page = 2;
$n = 2;
$m = ($page - 1) * $n;
$sql = &amp;quot;select * from user limit $m, $n&amp;quot;;
$result = mysql_query($sql);
//循环获取当前页的数据
$data = array();
while ($row = mysql_fetch_assoc($result)) {
    $data[] = $row;
}

使用m与m与m与n变量来表示偏移量与每页数据条数，但推荐使用更有意义的变量名来表示，
比如$pagesize, $start, $offset等，这样更容易理解，有助于团队协作开发。
更新与删除数据
// 更新
$sql = &amp;quot;update user set name = &#39;曹操&#39; where id=2 limit 1&amp;quot;;
if (mysql_query($sql)) {
    echo &#39;更新成功&#39;;
}

// 删除
$sql = &amp;quot;delete from user where id=2 limit 1&amp;quot;;
if (mysql_query($sql)) {
    echo &#39;删除成功&#39;;
}

对于删除与更新操作，可以通过mysql_affected_rows函数来获取更新过的数据行数，
如果数据没有变化，则结果为0。

$sql = &amp;quot;update user set name = &#39;曹操&#39; where id=2 limit 1&amp;quot;;
if (mysql_query($sql)) {
    echo mysql_affected_rows();
}

关闭MySQL连接
mysql_close();

虽然PHP会自动关闭数据库连接，一般情况下已经满足需求，但是在对性能要求比较高的情况下，
可以在进行完数据库操作之后尽快关闭数据库连接，以节省资源，提高性能。
在存在多个数据库连接的情况下，可以设定连接资源参数来关闭指定的数据库连接。
$link = mysql_connect($host, $user, $pass);
mysql_close($link);

PHP+Mysql+Ajax实现分页
https://www.imooc.com/learn/1117
PHP环境LAMP/LNMP安装与配置
LAMP是Linux + Apache/Nginx + Mysql + PHP的简称。
目前，国内外，无论一线互联网企业还是创业公司，LAMP都是Web开发的主流，以其高性能、特稳定、开源免费等特性闻名于世。
https://www.imooc.com/learn/703
扩展学习：
PHP进阶篇-GD库图像处理：http://www.imooc.com/learn/701

来源：慕课网，内容持续更新中...

                                        </div>
                                        
                                            <a class="btn btn-text" href="https://littlebuzi.github.io/learn_php_3/">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://littlebuzi.github.io/learn_php_2/">
                        PHP基础学习笔记(中)
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2020-04-11</time>
                    
                        <a href="https://littlebuzi.github.io/O2zTJWpBN/" class="post-tag i-tag
                            i-tag-error">
            #php
        </a>
                        
                </div>
                <div class="post-article">
                    
                        <a href="https://littlebuzi.github.io/learn_php_2/" class="post-feature-image" style="background-image:url(https://littlebuzi.github.io//post-images/learn_php_2.jpg) ">
                        </a>
                        
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            
本文章是继PHP基础学习笔记（上）的下篇，主要记录php基础知识，资源整合自慕课网。


一、数组定义
数组就是一个键值对组成的语言结构，键类似于酒店的房间号，值类似于酒店房间里存储的东西。
$arr = array();

表示创建一个空数组，并把创建的空数组赋值给变量$arr。
索引数组初始化
PHP有两种数组：索引数组、关联数组。
索引和关联两个词都是针对数组的键而言的。
索引数组是指数组的键是整数的数组，并且键的整数顺序是从0开始，依次类推。
fruit
|香蕉|苹果|雪梨|
|:-|:-:|-:|
|0|1|2|

$fruit = array(&amp;quot;苹果&amp;quot;,&amp;quot;香蕉&amp;quot;,&amp;quot;菠萝&amp;quot;); 
print_r($fruit);

索引数组赋值
赋值有三种方式:
$arr[0]=&#39;苹果&#39;;
array(&#39;0&#39;=&amp;gt;&#39;苹果&#39;);
$arr = array(&#39;0&#39;=&amp;gt;&#39;苹果&#39;);
if( isset($arr) ) {print_r($arr);}

isset（） 函数是检查 括号内的是否被定义了，定义为null 也表示true。
索引数组内容
$fruit = array(&#39;苹果&#39;,&#39;香蕉&#39;);
$fruit0 = $fruit[&#39;0&#39;];
print_r($fruit0);//结果为苹果

循环访问索引数组里的值
$fruit=array(&#39;苹果&#39;,&#39;香蕉&#39;,&#39;菠萝&#39;);

// for循环
for($i=0; $i&amp;lt;3; $i++){
    echo &#39;&amp;lt;br&amp;gt;数组第&#39;.$i.&#39;值是：&#39;.$fruit[$i];
}

//foreach循环
foreach($fruit as $key=&amp;gt;$value){
    echo &#39;&amp;lt;br&amp;gt;第&#39;.$key.&#39;值是：&#39;;
}

关联数组初始化
// 创建一个关联数组，关联数组的键“orange”，值是“橘子”
$fruit = array(
    // 关联数组赋值
    &#39;apple&#39;=&amp;gt;&amp;quot;苹果&amp;quot;,
    &#39;banana&#39;=&amp;gt;&amp;quot;香蕉&amp;quot;,
    &#39;pineapple&#39;=&amp;gt;&amp;quot;菠萝&amp;quot;
); 

// 访问关联数组内容
$fruit0 = $fruit[&#39;banana&#39;];
print_r($fruit0);

// foreach循环访问关联数组里的值
foreach($fruit as $k=&amp;gt;$v){
    echo &#39;&amp;lt;br&amp;gt;水果的英文键名：&#39;.$k.&#39;，对应的值是：&#39;.$v;

二、类和对象
类是面向对象程序设计的基本概念，通俗的理解类就是对现实中某一个种类的东西的抽象。
如汽车可以抽象为一个类，
属性：名字、轮胎、速度、重量等，
操作方法：换挡、前进、后退等。
// 定义一个汽车类的方法为
class Car {
    $name = &#39;汽车&#39;; //定义属性
    function getName() { //定义方法
        return $this-&amp;gt;name; //方法内部可以使用$this伪变量调用对象的属性或者方法
    }
}
// 类是一类东西的结构描述，而对象则是一类东西的一个具体实例，
// 例如汽车这个名词可以理解为汽车的总类，但这辆汽车则是一个具体的汽车对象。

// 对象通过new关键字进行实例化：
$car = new Car();
$car-&amp;gt;name = &#39;奥迪A6&#39;; //设置对象的属性值
echo $car-&amp;gt;getName();  //调用对象的方法 输出对象的名字

//也可以采用变量来创建
$className = &#39;Car&#39;;
$car = new $className();

//类与对象看起来比较相似，但实际上有本质的区别，
//类是抽象的概念，对象是具体的实例。
//类可以使程序具有可重用性。

对象之类的属性
在类中定义的变量称之为属性，
通常属性跟数据库中的字段有一定的关联，因此也可以称作“字段”。
属性声明是由以下关键字开头。
public：公开的
protected：受保护的
private：私有的
class Car {
    //定义公共属性
    public $name = &#39;汽车&#39;;

    //定义受保护的属性
    protected $color = &#39;白色&#39;;

    //定义私有属性
    private $price = &#39;100000&#39;;
}

默认都为public，外部可以访问。
一般通过-&amp;gt;对象操作符来访问对象的属性或者方法，对于静态属性则使用::双冒号进行访问。
当在类成员方法内部调用的时候，可以使用$this伪变量调用当前对象的属性。
$car = new Car();
echo $car-&amp;gt;name;   //调用对象的属性
echo $car-&amp;gt;color;  //错误 受保护的属性不允许外部调用
echo $car-&amp;gt;price;  //错误 私有属性不允许外部调用

受保护的属性与私有属性不允许外部调用，在类的成员方法内部是可以调用的。

class Car{
    private $price = &#39;1000&#39;;
    public function getPrice() {
        return $this-&amp;gt;price; //内部访问私有属性
​    }
}

定义类的方法
方法就是在类中的function，很多时候我们分不清方法与函数有什么差别，
在面向过程的程序设计中function叫做函数，在面向对象中function则被称之为方法。
同属性一样，类的方法也具有public，protected 以及 private 的访问控制。
被定义为公有的类成员可以在任何地方被访问。
被定义为受保护的类成员则可以被其自身以及其子类和父类访问。
被定义为私有的类成员则只能被其定义所在的类访问。
class Car {
    public function getName() {
        return &#39;汽车&#39;;
    }
​}
$car = new Car();
echo $car-&amp;gt;getName();

使用关键字static修饰的，称之为静态方法。
静态方法不需要实例化对象，可以通过类名直接调用，操作符为双冒号::。
class Car {
    public static function getName() {
        return &#39;汽车&#39;;
    }
​}
echo Car::getName(); //结果为“汽车”

// 静态方法也可以通过变量来进行动态调用

$func = &#39;getSpeed&#39;;
$className = &#39;Car&#39;;
echo $className::$func();  //动态调用静态方法

静态方法中，$this伪变量不允许使用。
可以使用self，parent，static在内部调用静态方法与属性。

class Car {
    private static $speed = 10;
    
    public static function getSpeed() {
        return self::$speed;
    }
    
    public static function speedUp() {
        return self::$speed+=10;
    }
}
class BigCar extends Car {
    public static function start() {
        parent::speedUp();
    }
}

BigCar::start();
echo BigCar::getSpeed();

车辆加速

class Car {
    private static $speed = 10;
    
    public function getSpeed() {
        return self::$speed;
    }
    
    //在这里定义一个静态方法，实现速度累加10

public static function speedUp() {
    return self::$speed+=10;
}

}

$car = new Car();
Car::speedUp();  //调用静态方法加速
echo $car-&amp;gt;getSpeed();  //调用共有方法输出当前的速度值

构造函数和析构函数
__construct()定义一个构造函数，具有构造函数的类，
会在每次对象创建的时候调用该函数，因此常用来在对象创建的时候进行一些初始化工作。
class Car {
   function __construct() {
       print &amp;quot;构造函数被调用\n&amp;quot;;
   }
}
$car = new Car(); //实例化的时候 会自动调用构造函数__construct，这里会输出一个字符串

在子类中如果定义了__construct则不会调用父类的__construct，
如果需要同时调用父类的构造函数，需要使用parent::__construct()显式的调用。
class Car {
   function __construct() {
       print &amp;quot;父类构造函数被调用\n&amp;quot;;
   }
}
class Truck extends Car {
   function __construct() {
       print &amp;quot;子类构造函数被调用\n&amp;quot;;
       parent::__construct();
   }
}
$car = new Truck();

同样，PHP5支持析构函数，使用__destruct()进行定义,
析构函数指的是当某个对象的所有引用被删除，或者对象被显式的销毁时会执行的函数。
class Car {
   function __construct() {
       print &amp;quot;构造函数被调用 \n&amp;quot;;
   }
   function __destruct() {
       print &amp;quot;析构函数被调用 \n&amp;quot;;
   }
}
$car = new Car(); //实例化时会调用构造函数
echo &#39;使用后，准备销毁car对象 \n&#39;;
unset($car); //销毁时会调用析构函数

当PHP代码执行完毕以后，会自动回收与销毁对象，因此一般情况下不需要显式的去销毁对象。
访问控制
类属性必须定义为公有、受保护、私有之一。
为兼容PHP5以前的版本，如果采用 var 定义，则被视为公有。
class Car {
    $speed = 10; //错误 属性必须定义访问控制
    public $name;   //定义共有属性
}

类中的方法可以被定义为公有、私有或受保护。
如果没有设置这些关键字，则该方法默认为公有。
class Car {
​    //默认为共有方法
    function turnLeft() {
    }
}

如果构造函数定义成了私有方法，则不允许直接实例化对象了，
这时候一般通过静态方法进行实例化，在设计模式中会经常使用这样的方法来控制对象的创建，
比如单例模式只允许有一个全局唯一的对象。
class Car {
    private function __construct() {
        echo &#39;object create&#39;;
    }

    private static $_object = null;
    public static function getInstance() {
        if (empty(self::$_object)) {
            self::$_object = new Car(); //内部方法可以调用私有方法，因此这里可以创建对象
        }
        return self::$_object;
    }
}
//$car = new Car(); //这里不允许直接实例化对象
$car = Car::getInstance(); //通过静态方法来获得一个实例

对象继承
继承是面向对象程序设计中常用的一个特性，汽车是一个比较大的类，我们也可以称之为基类，
除此之外，汽车还分为卡车、轿车、东风、宝马等，因为这些子类具有很多相同的属性和方法，
可以采用继承汽车类来共享这些属性与方法，实现代码的复用。
class Car {
    public $speed = 0; //汽车的起始速度是0
    
    public function speedUp() {
        $this-&amp;gt;speed += 10;
        return $this-&amp;gt;speed;
    }
}
//定义继承于Car的Truck类
class Truck extends Car {
    public function speedUp(){
        $this-&amp;gt;speed = parent::speedUp() + 50;
    }
}

$car = new Truck();
$car-&amp;gt;speedUp();
echo $car-&amp;gt;speed;

//结果：60

重载
PHP中的重载指的是动态的创建属性与方法，是通过魔术方法来实现的。
__set，对不存在属性赋值
__get，对不存在属性读取
__isset，判断属性是否设置
__unset，销毁属性
方法的重载通过__call来实现，当调用不存在的方法的时候，
将会转为参数调用__call方法，当调用不存在的静态方法时会使用__callStatic重载。
class Car {
    public $speed = 10;

    //在这里使用重载实现speedDown方法
    public function __call($name, $args) {
        if ($name == &#39;speedDown&#39;) {
            $this-&amp;gt;speed -= 10;
        }
    }
}
$car = new Car();
$car-&amp;gt;speedDown(); //调用不存在的speedDown方法
echo $car-&amp;gt;speed;

// $name 参数是要调用的方法名称。
// $arg 参数是一个枚举数组，包含着要传递给方法 $name 的参数。
// 所有的重载方法都必须被声明为 public。
//这些魔术方法的参数都不能通过引用传递。
//属性重载只能在对象中进行。在静态方式中，这些魔术方法将不会被调用。所以这些方法都不能被声明为 static。

详细：https://www.imooc.com/code/546
高级特性
class Car {
    public $name = &#39;car&#39;;
    
    public function __clone() {
        $obj = new Car();
        $obj-&amp;gt;name = $this-&amp;gt;name;
    }
}
$a = new Car();
$a-&amp;gt;name = &#39;new car&#39;;
$b = clone $a;
if ($a == $b) echo &#39;==&#39;;   //true
if ($a === $b) echo &#39;===&#39;; //false

$str = serialize($a); //对象序列化成字符串
echo $str.&#39;&amp;lt;br&amp;gt;&#39;;
$c = unserialize($str); //反序列化为对象
var_dump($c);

详细：https://www.imooc.com/code/547

三、正则表达式
正则表达式是对字符串进行操作的一种逻辑公式，
就是用一些特定的字符组合成一个规则字符串，称之为正则匹配模式。
$p = &#39;/apple/&#39;;
$str = &amp;quot;apple banna&amp;quot;;
if (preg_match($p, $str)) {
    echo &#39;matched&#39;;
}

其中字符串&#39;/apple/&#39;就是一个正则表达式，用于匹配源字符串中是否存在apple字符串。
PHP中使用PCRE库函数进行正则匹配，比如上例中的preg_match用于执行一个正则匹配，
常用来判断一类字符模式是否存在。
基本语法
PCRE库函数中，正则匹配模式使用分隔符与元字符组成，分隔符可以是非数字、非反斜线、非空格的任意字符。经常使用的分隔符是正斜线(/)、hash符号(#) 以及取反符号(~)，例如：
/foo bar/
#^[^0-9]$#
~php~

//如果模式中包含分隔符，则分隔符需要使用反斜杠（\）进行转义。

/http:\/\//

//如果模式中包含较多的分割字符，建议更换其他的字符作为分隔符，也可以采用preg_quote进行转义。

$p = &#39;http://&#39;;
$p = &#39;/&#39;.preg_quote($p, &#39;/&#39;).&#39;/&#39;;
echo $p;

//分隔符后面可以使用模式修饰符，模式修饰符包括：i, m, s, x等，
//例如使用i修饰符可以忽略大小写匹配：

$str = &amp;quot;Http://www.imooc.com/&amp;quot;;
if (preg_match(&#39;/http/i&#39;, $str)) {
    echo &#39;匹配成功&#39;;
}

// 忽略大小写匹配BBC
$p = &#39;/bbc/i&#39;;
$str = &amp;quot;BBC是英国的一个电视台&amp;quot;;
if (preg_match($p, $str)) {
    echo &#39;匹配成功&#39;;
}


元字符与转义
正则表达式中具有特殊含义的字符称之为元字符，常用的元字符有：
\ 一般用于转义字符
^ 断言目标的开始位置(或在多行模式下是行首)
$ 断言目标的结束位置(或在多行模式下是行尾)
. 匹配除换行符外的任何字符(默认)
[ 开始字符类定义
] 结束字符类定义
| 开始一个可选分支
( 子组的开始标记
) 子组的结束标记
? 作为量词，表示 0 次或 1 次匹配。位于量词后面用于改变量词的贪婪特性。 (查阅量词)

量词，0 次或多次匹配


量词，1 次或多次匹配
{ 自定义量词开始标记
} 自定义量词结束标记

//下面的\s匹配任意的空白符，包括空格，制表符，换行符。[\s]代表非空白符。[\s]+表示一次或多次匹配非空白符。
$p = &#39;/^我[^\s]+(苹果|香蕉)$/&#39;;
$str = &amp;quot;我喜欢吃苹果&amp;quot;;
if (preg_match($p, $str)) {
    echo &#39;匹配成功&#39;;
}

元字符具有两种使用场景，一种是可以在任何地方都能使用，另一种是只能在方括号内使用，在方括号内使用的有：
\ 转义字符
^ 仅在作为第一个字符(方括号内)时，表明字符类取反

标记字符范围

其中^在反括号外面，表示断言目标的开始位置，但在方括号内部则代表字符类取反，方括号内的减号-可以标记字符范围，例如0-9表示0到9之间的所有数字。
//下面的\w匹配字母或数字或下划线。
$p = &#39;/[\w\.\-]+@[a-z0-9\-]+\.(com|cn)/&#39;;
$str = &amp;quot;我的邮箱是Spark.eric@imooc.com&amp;quot;;
preg_match($p, $str, $match);
echo $match[0];

//匹配str中的电话
$p = &#39;/\d+\-\d+/&#39;;
$str = &amp;quot;我的电话是010-12345678&amp;quot;;
preg_match($p, $str, $match);
echo $match[0];

贪婪模式与懒惰模式
正则表达式中每个元字符匹配一个字符，当使用+之后将会变的贪婪，它将匹配尽可能多的字符，
但使用问号?字符时，它将尽可能少的匹配字符，既是懒惰模式。
贪婪模式：在可匹配与可不匹配的时候，优先匹配
//下面的\d表示匹配数字
$p = &#39;/\d+\-\d+/&#39;;
$str = &amp;quot;我的电话是010-12345678&amp;quot;;
preg_match($p, $str, $match);
echo $match[0]; //结果为：010-12345678

懒惰模式：在可匹配与可不匹配的时候，优先不匹配
$p = &#39;/\d?\-\d?/&#39;;
$str = &amp;quot;我的电话是010-12345678&amp;quot;;
preg_match($p, $str, $match);
echo $match[0];  //结果为：0-1

当我们确切的知道所匹配的字符长度的时候，可以使用{}指定匹配字符数
$p = &#39;/\d{3}\-\d{8}/&#39;;
$str = &amp;quot;我的电话是010-12345678&amp;quot;;
preg_match($p, $str, $match);
echo $match[0]; //结果为：010-12345678

匹配str中的姓名
$p = &#39;/name:([\w\s]+)/&#39;;
$str = &amp;quot;name:steven jobs&amp;quot;;
preg_match($p, $str, $match);
echo $match[1]; //结果为：steven jobs

正则表达式匹配
//正则匹配，并输出邮箱地址,匹配email的方法还有有很多
$subject = &amp;quot;my email is spark@imooc.com&amp;quot;;
$pattern = &#39;/[\w\-]+@\w+\.\w+/&#39;;
preg_match($pattern, $subject, $matches);
echo $matches[0];

详细：https://www.imooc.com/code/562
查找所有匹配结果
preg_match只能匹配一次结果，但很多时候我们需要匹配所有的结果，
preg_match_all可以循环获取一个列表的匹配结果数组。
$str = &amp;quot;&amp;lt;ul&amp;gt;
            &amp;lt;li&amp;gt;item 1&amp;lt;/li&amp;gt;
            &amp;lt;li&amp;gt;item 2&amp;lt;/li&amp;gt;
        &amp;lt;/ul&amp;gt;&amp;quot;;
//在这里补充代码，实现正则匹配所有li中的数据

$p = &amp;quot;/&amp;lt;li&amp;gt;(.*)&amp;lt;\/li&amp;gt;/i&amp;quot;;//解释下这个正则：
//后面的i表示不区分大小写，&amp;lt;li&amp;gt;(.*?)&amp;lt;\/li&amp;gt;表示li标签内的匹配的()内的值有多少，
括号内的.表示所有单字符,*表示数量为0个或者多个。也就是li标签内有字符就显示出来
preg_match_all($p, $str, $matches);
print_r($matches[1]);

结果：
Array
(
    [0] =&amp;gt; item 1
    [1] =&amp;gt; item 2
)

详细：https://www.imooc.com/code/563
正则表达式的搜索和替换
$str = &#39;主要有以下几个文件：index.php, style.css, common.js&#39;;
//将目标字符串$str中的文件名替换后增加em标签

$p = &#39;/\w+\.\w+/i&#39;;
$str = preg_replace($p, &#39;&amp;lt;em&amp;gt;$0&amp;lt;/em&amp;gt;&#39;, $str);
echo $str;
结果：
主要有以下几个文件：index.php, style.css, common.js

常用案例
$user = array(
    &#39;name&#39; =&amp;gt; &#39;spark1985&#39;,
    &#39;email&#39; =&amp;gt; &#39;spark@imooc.com&#39;,
    &#39;mobile&#39; =&amp;gt; &#39;13312345678&#39;
);
//进行一般性验证
if (empty($user)) {
    die(&#39;用户信息不能为空&#39;);
}
if (strlen($user[&#39;name&#39;]) &amp;lt; 6) {
    die(&#39;用户名长度最少为6位&#39;);
}
//用户名必须为字母、数字与下划线
if (!preg_match(&#39;/^\w+$/i&#39;, $user[&#39;name&#39;])) {
    die(&#39;用户名不合法&#39;);
}
//验证邮箱格式是否正确
if (!preg_match(&#39;/^[\w\.]+@\w+\.\w+$/i&#39;, $user[&#39;email&#39;])) {
    die(&#39;邮箱不合法&#39;);
}
//手机号必须为11位数字，且为1开头
if (!preg_match(&#39;/^1\d{10}$/i&#39;, $user[&#39;mobile&#39;])) {
    die(&#39;手机号不合法&#39;);
}
echo &#39;用户信息验证成功&#39;;


四、cookie
Cookie是存储在客户端浏览器中的数据，我们通过Cookie来跟踪与存储用户数据。
一般情况下，Cookie通过HTTP headers从服务端返回到客户端。
多数web程序都支持Cookie的操作，因为Cookie是存在于HTTP的标头之中，
所以必须在其他信息输出以前进行设置，类似于header函数的使用限制。
PHP通过setcookie函数进行Cookie的设置，任何从浏览器发回的Cookie，PHP都会自动的将他存储在$_COOKIE的全局变量之中，因此我们可以通过$_COOKIE[&#39;key&#39;]的形式来读取某个Cookie值。
PHP中的Cookie具有非常广泛的使用，经常用来存储用户的登录信息，购物车等，且在使用会话Session时通常使用Cookie来存储会话id来识别用户，Cookie具备有效期，当有效期结束之后，Cookie会自动的从客户端删除。同时为了进行安全控制，Cookie还可以设置域跟路径，我们会在稍后的章节中详细的讲解他们。
setcookie(&#39;test&#39;, time());
ob_start();
print_r($_COOKIE); 
$content = ob_get_contents();
$content = str_replace(&amp;quot; &amp;quot;, &#39;&amp;amp;nbsp;&#39;, $content);
ob_clean();
header(&amp;quot;content-type:text/html; charset=utf-8&amp;quot;);
echo &#39;当前的Cookie为：&amp;lt;br&amp;gt;&#39;;
echo nl2br($content);

设置cookie
PHP设置Cookie最常用的方法就是使用setcookie函数，setcookie具有7个可选参数，
我们常用到的为前5个：
name（ Cookie名）可以通过$_COOKIE[&#39;name&#39;] 进行访问
value（Cookie的值）
expire（过期时间）Unix时间戳格式，默认为0，表示浏览器关闭即失效
path（有效路径）如果路径设置为&#39;/&#39;，则整个网站都有效
domain（有效域）默认整个域名都有效，如果设置了&#39;www.imooc.com&#39;,则只在www子域中有效
$value = &#39;test&#39;;
setcookie(&amp;quot;TestCookie&amp;quot;, $value);
setcookie(&amp;quot;TestCookie&amp;quot;, $value, time()+3600);  //有效期一小时
setcookie(&amp;quot;TestCookie&amp;quot;, $value, time()+3600, &amp;quot;/path/&amp;quot;, &amp;quot;imooc.com&amp;quot;); //设置路径与域

PHP中还有一个设置Cookie的函数setrawcookie，setrawcookie跟setcookie基本一样，
唯一的不同就是value值不会自动的进行urlencode，因此在需要的时候要手动的进行urlencode。
setrawcookie(&#39;cookie_name&#39;, rawurlencode($value), time()+60*60*24*365); 

因为Cookie是通过HTTP标头进行设置的，所以也可以直接使用header方法进行设置。
header(&amp;quot;Set-Cookie:cookie_name=value&amp;quot;);

设置一个名为test的Cookie
$value = time();
setcookie(&#39;test&#39;, $value); 
if (isset($_COOKIE[&#39;test&#39;])) {
    echo &#39;success&#39;;
}

删除与过期时间
setcookie(&#39;test&#39;, time());
//在这里试着删除test的cookie值
setcookie(&#39;test&#39;, &#39;&#39;, time()-1); 
var_dump($_COOKIE);

将cookie的过期时间设置到当前时间之前，则该cookie会自动失效，也就达到了删除cookie的目的。
之所以这么设计是因为cookie是通过HTTP的标头来传递的，客户端根据服务端返回的Set-Cookie段来进行cookie的设置，如果删除cookie需要使用新的Del-Cookie来实现，则HTTP头就会变得复杂，
实际上仅通过Set-Cookie就可以简单明了的实现Cookie的设置、更新与删除。
了解原理以后，我们也可以直接通过header来删除cookie。
header(&amp;quot;Set-Cookie:test=1393832059; expires=&amp;quot;.gmdate(&#39;D, d M Y H:i:s \G\M\T&#39;, time()-1));
这里用到了gmdate，用来生成格林威治标准时间，以便排除时差的影响。
有效路径
cookie中的路径用来控制设置的cookie在哪个路径下有效，默认为&#39;/&#39;，
在所有路径下都有，当设定了其他路径之后，则只在设定的路径以及子路径下有效，例如：
setcookie(&#39;test&#39;, time(), 0, &#39;/path&#39;);

上面的设置会使test在/path以及子路径/path/abc下都有效，但是在根目录下就读取不到test的cookie值。
一般情况下，大多是使用所有路径的，只有在极少数有特殊需求的时候，会设置路径，
这种情况下只在指定的路径中才会传递cookie值，可以节省数据的传输，增强安全性以及提高性能。
当我们设置了有效路径的时候，不在当前路径的时候则看不到当前cookie。
setcookie(&#39;test&#39;, &#39;1&#39;,0, &#39;/path&#39;);  
var_dump($_COOKIE[&#39;test&#39;]);  

session与cookie的异同
cookie将数据存储在客户端，建立起用户与服务器之间的联系，
通常可以解决很多问题，但是cookie仍然具有一些局限：
cookie相对不是太安全，容易被盗用导致cookie欺骗
单个cookie的值最大只能存储4k
每次请求都要进行网络传输，占用带宽
session是将用户的会话数据存储在服务端，没有大小限制，通过一个session_id进行用户识别，PHP默认情况下session id是通过cookie来保存的，因此从某种程度上来说，seesion依赖于cookie。但这不是绝对的，session id也可以通过参数来实现，只要能将session id传递到服务端进行识别的机制都可以使用session。
使用session

//先执行session_start方法开启session
session_start();
//设置一个session，然后通过全局变量$_SESSION进行session的读写
$_SESSION[&#39;test&#39;] = time();
//显示当前的session_id
echo &amp;quot;session_id:&amp;quot;.session_id();
echo &amp;quot;&amp;lt;br&amp;gt;&amp;quot;;

//读取session值
echo $_SESSION[&#39;test&#39;];
// var_dump($_SESSION);

//删除与销毁一个session
unset($_SESSION[&#39;test&#39;]);
echo &amp;quot;&amp;lt;br&amp;gt;&amp;quot;;
var_dump($_SESSION);
//如果要删除所有的session，可以使用session_destroy函数销毁当前session，
//session_destroy会删除所有数据，但是session_id仍然存在。

session_start();
$_SESSION[&#39;name&#39;] = &#39;jobs&#39;;
$_SESSION[&#39;time&#39;] = time();
session_destroy();

//session_destroy并不会立即的销毁全局变量$_SESSION中的值，只有当下次再访问的时候，
//$_SESSION才为空，因此如果需要立即销毁$_SESSION，可以使用unset函数。

session_start();
$_SESSION[&#39;name&#39;] = &#39;jobs&#39;;
$_SESSION[&#39;time&#39;] = time();
unset($_SESSION);
session_destroy(); 
var_dump($_SESSION); //此时已为空

//如果需要同时销毁cookie中的session_id，通常在用户退出的时候可能会用到，
//则还需要显式的调用setcookie方法删除session_id的cookie值。

session会自动的对要设置的值进行encode与decode，
因此session可以支持任意数据类型，包括数据与对象等。
session_start();
SESSION[′ary′]=array(′name′=&amp;gt;′jobs′);_SESSION[&amp;#x27;ary&amp;#x27;] = array(&amp;#x27;name&amp;#x27; =&amp;gt; &amp;#x27;jobs&amp;#x27;);
S​ESSION[′ary′]=array(′name′=&amp;gt;′jobs′);_SESSION[&#39;obj&#39;] = new stdClass();
var_dump($_SESSION);
默认情况下，session是以文件形式存储在服务器上的，因此当一个页面开启了session之后，会独占这个session文件，这样会导致当前用户的其他并发访问无法执行而等待。可以采用缓存或者数据库的形式存储来解决这个问题，
session来存储用户的登录信息
session可以用来存储多种类型的数据，因此具有很多的用途，
常用来存储用户的登录信息，购物车数据，或者一些临时使用的暂存数据等。
用户在登录成功以后，通常可以将用户的信息存储在session中，
一般的会单独的将一些重要的字段单独存储，然后所有的用户信息独立存储。
$_SESSION[&#39;uid&#39;] = $userinfo[&#39;uid&#39;];
$_SESSION[&#39;userinfo&#39;] = $userinfo;

一般来说，登录信息既可以存储在sessioin中，也可以存储在cookie中，
他们之间的差别在于session可以方便的存取多种数据类型，而cookie只支持字符串类型，
同时对于一些安全性比较高的数据，cookie需要进行格式化与加密存储，而session存储在服务端则安全性较高。
session_start();
//假设用户登录成功获得了以下用户数据
$userinfo = array(
    &#39;uid&#39;  =&amp;gt; 10000,
    &#39;name&#39; =&amp;gt; &#39;spark&#39;,
    &#39;email&#39; =&amp;gt; &#39;spark@imooc.com&#39;,
    &#39;sex&#39;  =&amp;gt; &#39;man&#39;,
    &#39;age&#39;  =&amp;gt; &#39;18&#39;
);
header(&amp;quot;content-type:text/html; charset=utf-8&amp;quot;);

/* 将用户信息保存到session中 */
$_SESSION[&#39;uid&#39;] = $userinfo[&#39;uid&#39;];
$_SESSION[&#39;name&#39;] = $userinfo[&#39;name&#39;];
$_SESSION[&#39;userinfo&#39;] = $userinfo;

//* 将用户数据保存到cookie中的一个简单方法 */
$secureKey = &#39;imooc&#39;; //加密密钥
$str = serialize($userinfo); //将用户信息序列化
//用户信息加密前
$str = base64_encode(mcrypt_encrypt(MCRYPT_RIJNDAEL_256, md5($secureKey), $str, MCRYPT_MODE_ECB));
//用户信息加密后
//将加密后的用户数据存储到cookie中
setcookie(&#39;userinfo&#39;, $str);

//当需要使用时进行解密
$str = mcrypt_decrypt(MCRYPT_RIJNDAEL_256, md5($secureKey), base64_decode($str), MCRYPT_MODE_ECB);
$uinfo = unserialize($str);
echo &amp;quot;解密后的用户信息：&amp;lt;br&amp;gt;&amp;quot;;
print_r($uinfo);

结果：
解密后的用户信息：
Array
(
    [uid] =&amp;gt; 10000
    [name] =&amp;gt; spark
    [email] =&amp;gt; spark@imooc.com
    [sex] =&amp;gt; man
    [age] =&amp;gt; 18
)

五、文件系统
读取文件内容
$content = file_get_contents(&#39;./test.txt&#39;);
// file_get_contents，可以将整个文件全部读取到一个字符串中

$content = file_get_contents(&#39;./test.txt&#39;, null, null, 100, 500);
//可通过参数控制读取内容的开始点以及长度。

echo $content;

PHP也提供类似于C语言操作文件的方法，使用fopen，fgets，fread等方法，
fgets可以从文件指针中读取一行，freads可以读取指定长度的字符串。
$fp = fopen(&#39;./text.txt&#39;, &#39;rb&#39;);
while(!feof($fp)) {
    echo fgets($fp); //读取一行
}
fclose($fp);
 
$fp = fopen(&#39;./text.txt&#39;, &#39;rb&#39;);
$contents = &#39;&#39;;
while(!feof($fp)) {
    $contents .= fread($fp, 4096); //一次读取4096个字符
}
fclose($fp);

使用fopen打开的文件，最好使用fclose关闭文件指针，以避免文件句柄被占用。
判断文件是否存在
is_file与file_exists.
file_exists:

//判断文件是否存在，同时也可以判断目录是否存在
$filename = &#39;./test.txt&#39;;
if (file_exists($filename)) {
    echo file_get_contents($filename);
}

is_file:

//is_file是确切的判断给定的路径是否是一个文件,从函数名可以看出
$filename = &#39;./test.txt&#39;;
if (is_file($filename)) {
    echo file_get_contents($filename);
}

is_readable与is_writeable更加精确
在文件是否存在的基础上，判断文件是否可读与可写。
//可写
$filename = &#39;./test.txt&#39;;
if (is_writeable($filename)) {
    file_put_contents($filename, &#39;test&#39;);
}
//可读
if (is_readable($filename)) {
    echo file_get_contents($filename);
}

取得文件的修改时间
文件有很多元属性，包括：文件的所有者、创建时间、修改时间、最后的访问时间等。
fileowner：获得文件的所有者
filectime：获取文件的创建时间
filemtime：获取文件的修改时间
fileatime：获取文件的访问时间
其中最常用的是文件的修改时间，通过文件的修改时间，
可以判断文件的时效性，经常用在静态文件或者缓存数据的更新。
mtime=filemtime(mtime = filemtime(mtime=filemtime(filename);
echo &#39;修改时间：&#39;.date(&#39;Y-m-d H:i:s&#39;, filemtime($filename));
$filename = &#39;/data/webroot/usercode/code/resource/test.txt&#39;;
echo &#39;所有者：&#39;.fileowner($filename).&#39;&amp;lt;br&amp;gt;&#39;;
echo &#39;创建时间：&#39;.filectime($filename).&#39;&amp;lt;br&amp;gt;&#39;;
echo &#39;修改时间：&#39;.filemtime($filename).&#39;&amp;lt;br&amp;gt;&#39;;
echo &#39;最后访问时间：&#39;.fileatime($filename).&#39;&amp;lt;br&amp;gt;&#39;;

//给$mtime赋值为文件的修改时间
$mtime = filemtime($filename);
//通过计算时间差 来判断文件内容是否有效
if (time() - $mtime &amp;gt; 3600) {
    echo &#39;&amp;lt;br&amp;gt;缓存已过期&#39;;
} else {
    echo file_get_contents($filename);
}

取得文件的大小
$filename = &#39;/data/webroot/usercode/resource/test.txt&#39;;
echo filesize($filename);
//没法通过简单的函数来取得目录的大小，目录的大小是该目录下所有子目录以及文件大小的总和，
//因此需要通过递归的方法来循环计算目录的大小。

详细：https://www.imooc.com/code/578
写入内容到文件
$filename = &#39;/data/webroot/usercode/code/test2.txt&#39;;
$fp = fopen($filename, &#39;w&#39;);
fwrite($fp, &#39;hello world&#39;); 
fclose($fp); 

// 或者
$fp = fopen(&#39;./test.txt&#39;, &#39;w&#39;);
fwrite($fp, &#39;hello&#39;);
fwrite($fp, &#39;world&#39;);
fclose($fp);

删除文件
跟Unix系统命令类似，PHP使用unlink函数进行文件删除。
unlink($filename);

删除文件夹使用rmdir函数，文件夹必须为空，如果不为空或者没有权限则会提示失败。
rmdir($dir);

如果文件夹中存在文件，可以先循环删除目录中的所有文件，然后再删除该目录，循环删除可以使用glob函数遍历所有文件。
foreach (glob(&amp;quot;*&amp;quot;) as $filename) {
   unlink($filename);
}

六、异常处理
从PHP5开始，PHP支持异常处理，异常抛出之后，后面的代码将不会再被执行。
当代码中使用了try catch的时候，抛出的异常会在catch中捕获，否则会直接中断。
基本语法
        try{
            //可能出现错误或异常的代码
            //catch表示捕获，Exception是php已定义好的异常类
        } catch(Exception $e){
            //对异常处理，方法：
                //1、自己处理
                //2、不处理，将其再次抛出
        }

//每一个 &amp;quot;throw&amp;quot; 必须对应至少一个 &amp;quot;catch&amp;quot;，当然可以对应多个&amp;quot;catch&amp;quot;
//Catch - &amp;quot;catch&amp;quot; 代码块会捕获异常，并创建一个包含异常信息的对象。

创建可抛出一个异常的函数
function checkNum($number){
     if($number&amp;gt;1){
         throw new Exception(&amp;quot;异常提示-数字必须小于等于1&amp;quot;);
     }
     return true;
 }

//在 &amp;quot;try&amp;quot; 代码块中触发异常
 try{
     checkNum(2);
     //如果异常被抛出，那么下面一行代码将不会被输出
     echo &#39;如果能看到这个提示，说明你的数字小于等于1&#39;;
 }catch(Exception $e){
     //捕获异常
     echo &#39;捕获异常: &#39; .$e-&amp;gt;getMessage();
 }

 检测文件是否存在
$filename = &#39;test.txt&#39;;
try {
    if (!file_exists($filename)) {
      throw new Exception(&#39;文件不存在&#39;);
    }
} catch(Exception $e) {
    echo $e-&amp;gt;getMessage();
}

异常处理类
Exception具有几个基本属性与方法，其中包括了：
message 异常消息内容
code 异常代码
file 抛出异常的文件名
line 抛出异常在该文件的行数
其中常用的方法有：
getTrace 获取异常追踪信息
getTraceAsString 获取异常追踪信息的字符串
getMessage 获取出错信息
class MyException extends Exception {
    function getInfo() {
        return &#39;自定义错误信息&#39;;
    }
}

try {
    throw new MyException(&#39;error&#39;);
} catch(Exception $e) {
    echo $e-&amp;gt;getInfo();
}

详细：https://www.imooc.com/code/601
捕获异常信息
在实际应用中，不会轻易的抛出异常，只有在极端情况或者非常重要的情况下，才会抛出异常，
抛出异常，可以保障程序的正确性与安全，避免导致不可预知的bug。
//一般的异常处理流程代码为：
try {
    throw new Exception(&#39;wrong&#39;);
} catch(Exception $ex) {
    echo &#39;Error:&#39;.$ex-&amp;gt;getMessage().&#39;&amp;lt;br&amp;gt;&#39;;
    echo $ex-&amp;gt;getTraceAsString().&#39;&amp;lt;br&amp;gt;&#39;;
}
echo &#39;异常处理后，继续执行其他代码&#39;;

获取错误发生的所在行
在实际应用中，我们通常会获取足够多的异常信息，然后写入到错误日志中。
通过我们需要将报错的文件名、行号、错误信息、异常追踪信息等记录到日志中，以便调试与修复问题。
try {
    throw new Exception(&#39;wrong&#39;);
} catch(Exception $ex) {
    $msg = &#39;Error:&#39;.$ex-&amp;gt;getMessage().&amp;quot;\n&amp;quot;;
    $msg.= $ex-&amp;gt;getTraceAsString().&amp;quot;\n&amp;quot;;
    $msg.= &#39;异常行号：&#39;.$ex-&amp;gt;getLine().&amp;quot;\n&amp;quot;;
    $msg.= &#39;所在文件：&#39;.$ex-&amp;gt;getFile().&amp;quot;\n&amp;quot;;
    //将异常信息记录到日志中
 PHP异常处理之   file_put_contents(&#39;error.log&#39;, $msg);
}

扩展学习：
PHP进阶篇-函数 ：http://www.imooc.com/learn/737
PHP进阶篇-日期时间函数：http://www.imooc.com/learn/698

来源：慕课网，内容持续更新中...

                                        </div>
                                        
                                            <a class="btn btn-text" href="https://littlebuzi.github.io/learn_php_2/">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://littlebuzi.github.io/learn_php_1/">
                        PHP基础学习笔记(上)
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2020-04-07</time>
                    
                        <a href="https://littlebuzi.github.io/O2zTJWpBN/" class="post-tag i-tag
                            i-tag-success">
            #php
        </a>
                        
                </div>
                <div class="post-article">
                    
                        <a href="https://littlebuzi.github.io/learn_php_1/" class="post-feature-image" style="background-image:url(https://littlebuzi.github.io//post-images/learn_php_1.jpg) ">
                        </a>
                        
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            
学习一门新的计算机语言，对于基础基础不能丢三落四、模凌两可，这是一定要过关的。这对于以后遇到问题，能事半功倍，快人一步。不然会处处碰壁，事倍功半。假如你不是特别优秀的人，那可以选择像我一样，重复再重复吧，加油💪~


一、符号
单引号括，双引号都可以用:
&amp;lt;?php echo &amp;quot;Hi,imooc！&amp;quot;;?&amp;gt;
&amp;lt;?php echo &#39;Hi,imooc！&#39;;?&amp;gt;

连接符（.）：
&amp;lt;?php echo &#39;Hi,&#39;.&#39;imooc!&#39;;?&amp;gt;

php在这一点比较特殊，其它语言中是用加号（+）来表示的，比如：JavaScirpt、Asp、C。
结尾要加分号：
（;）分号;一定在半角状态下输入。
注释语句:
PHP：// 注释语句
Html：&amp;lt;!--注释语句--&amp;gt;
CSS：/*注释语句*/

注释语句可以在PHP程序的任意位置（但注释语句一定要写在之间）。

二、变量
定义&amp;amp;输出：
$var_name = &amp;quot;苹果&amp;quot;;
$n = 10;
var_dump($var_name);
var_dump($n);

命名规则
1.变量名必须以字母或下划线 “_”开头，
&amp;quot;$_name&amp;quot;√
&amp;quot;$name&amp;quot; √
&amp;quot;$name2&amp;quot;√
&amp;quot;$9name&amp;quot;×
2.由字母、数字、“_”、汉字组成。
&amp;quot;$_qq&amp;quot;√
&amp;quot;$qq308&amp;quot;√
&amp;quot;$my_apple&amp;quot;√
&amp;quot;$name我等&amp;quot; √
&amp;quot;$name*&amp;quot;×  (不允许符号)
&amp;quot;$666&amp;quot;×  (不允许纯数字)
&amp;quot;$my apple&amp;quot;×   (不允许空格)
格式
1.下划线法：$my_apple
2.驼峰命名法：$myApple
3.在PHP中变量名是区分大小写，
“$my_book”
“$my_Book”
代表两个不同的变量。
变量的数据类型
php支持八种原始类型：
1.四种标量类型：
boolean 布尔型
①只有两个值，一个是TRUE，另一个FALSE。即为是或否/真或假。
②不区分大小写， &amp;quot;TRUE&amp;quot; = &amp;quot;true &amp;quot;
③主要用在条件结构。
④用”echo”输出时，“true”则输出“1”，“false”不输出。
所以需要注意变量的类型，“1”可能是整型也可能是true，所以需要var_dump输出一下，
如：https://www.imooc.com/code/745

integer 整型
$data_int = 123;   // 十进制数  ，123
$data_int = -123;    // 一个负数  ，-123
$data_int = 0123;    // 八进制数（等于十进制的 83）  ，83
$data_int = 0x123;    // 十六进制数（等于十进制的 26）  ，291
// 十进制、八进制（数字前“0”）、十六进制（数字前“0x”）。(0是阿拉伯数字0，不是英文字母&amp;quot;欧/o&amp;quot;)

float 浮点型（也称double）
$num_float = 1.234;    //小数点  ，1.234
$num_float = 1.2e3;    //科学计数法，小写e  ，1200
$num_float = 7.0E-10;     //科学计数法，大写E ，0.007
// 支持小数点、科学计数法小写的e，大写的E表示。

string (字符串)
“$str_string1 = &#39;我是字符串&#39;;”
// 字符和字节一样，所以一共有256种不同字符的可能性。
// 三种方法定义：单引号形式、双引号形式和Heredoc结构形式。

// 单双引号嵌入与转义符“\”
$str_string1 = &#39;甲问：&amp;quot;你在哪里学的PHP？&amp;quot;&#39;;
$str_string2 = &amp;quot;乙毫不犹豫地回答：&#39;当然是慕课网咯！&#39;&amp;quot;;
$str_string3 = &#39;甲问:\&#39;能告诉我网址吗？\&#39;&#39;;
$str_string4 = &amp;quot;乙答道:\&amp;quot;www.imooc.com\&amp;quot;&amp;quot;;

// 美元符号标识的变量与单双引号
$love = &amp;quot;I love you!&amp;quot;; 
$string1 = &amp;quot;慕课网,$love&amp;quot;;    输出：慕课网,I love you!
$string2 = &#39;慕课网,$love&#39;;     输出：慕课网,$love

// Heredoc结构形式，很长的字符串
$string1 = &amp;lt;&amp;lt;&amp;lt;GOD
我有一只小毛驴，我从来也不骑。
有一天我心血来潮，骑着去赶集。
我手里拿着小皮鞭，我心里正得意。
不知怎么哗啦啦啦啦，我摔了一身泥.
GOD;


2.两种符合类型：
array 数组
object 对象
3.特殊类型：
resource 资源
资源是由专门的函数来建立和使用的，
// 例如打开文件、数据连接、图形画布。
$file=fopen(&amp;quot;f.txt&amp;quot;,&amp;quot;r&amp;quot;);   //打开文件
$con=mysql_connect(&amp;quot;localhost&amp;quot;,&amp;quot;root&amp;quot;,&amp;quot;root&amp;quot;);  //连接数据库
$img=imagecreate(100,100);//图形画布

// 对资源进行创建、使用和释放
$file_handle = fopen(&amp;quot;/data/webroot/resource/php/f.txt&amp;quot;,&amp;quot;r&amp;quot;);
if ($file_handle){
    //接着采用while循环（后面语言结构语句中的循环结构会详细介绍）一行行地读取文件，然后输出每行的文字
    while (!feof($file_handle)) { //判断是否到最后一行
        $line = fgets($file_handle); //读取一行文本
        echo $line; //输出一行文本
        echo &amp;quot;&amp;lt;br /&amp;gt;&amp;quot;; //换行
    }
}
fclose($file_handle);//关闭文件

// 任何资源，在不需要的时候应该被及时释放。
// 忘记了释放资源，系统自动启用垃圾回收机制，在页面执行完毕后回收资源，以避免内存被消耗殆尽。


null
NULL是空类型，对大小写不敏感，NULL类型只有一个取值，表示一个变量没有值，
①当被赋值为NULL：var1 = null;/var1 = NULL;
②或者尚未被赋值：var_dump(var2);③或者被unset()：var2);
③或者被unset()：var2);③或者被unset()：var3 = &amp;quot;节日快乐！&amp;quot;;unset($var3);
这三种情况下变量被认为为NULL。
变量占用内存
echo $m1 = memory_get_usage(); 
// 获取当前PHP消耗的内存，结果：624432，
// 在变量中，由于变量占用的空间单元不一样（占的地盘大小不一样），分成几种数据类型。

详见：https://www.imooc.com/code/743

三、常量
常量可以理解为值不变的量（如圆周率）；
或者是常量值被定义后，在脚本的其他任何地方都不可以被改变。分为自定义常量和系统常量
自定义常量
根据我们开发的需要，而定义的常量，它通过使用PHP中的函数define()定义。
（注：函数，我们可以理解为一个混凝土搅拌机，亦或是一个筛子，通过入口提供原料，然后出口产出结果，在函数中也允许入口不提供任何数据，出口也允许不返回任何值。）
// define()函数的语法格式为(3个参数)：
bool define(string $constant_name, mixed $value[, $case_sensitive = true])
//“constant_name”为必选参数，常量名称,即标志符，常量的命名规则与变量的一致，但是要注意哦，它可不带美元符号哦。
//“value”为必选参数，它是常量的值。
//“case_sensitive”为可选参数，指定是否大小写敏感，设定为true表示不敏感，一般不指定第三个参数的情况下，默认第三个参数的值为false。

注：
 string表示参数类型为字符串类型，
mixed表示参数类型可以接受为多种不同的类型，
case_sensitive = true表示默认为布尔类型TRUE

如：
$p = &amp;quot;PII&amp;quot;;
define(&amp;quot;PI&amp;quot;,3.14);
define($p,3.14);
echo PI;
echo &amp;quot;&amp;lt;br /&amp;gt;&amp;quot;;
echo PII;

结果：
3.14
3.14


常量的作用
常量主要功效是可以避免重复定义，篡改变量值。在我们进行团队开发时，或者代码量很大的时候，对于一些第一次定义后不改变的量，如果我们使用变量，在不知情的情况下，使用同一变量名时，变量值就会被替换掉，从而会引发服务器执行错误的任务。
此外，使用常量还能提高代码的可维护性。如果由于某些原因，常量的值需要变更时候，我们只需要修改一个地方。例如在做计算中，起初我们取圆周率为3.14，于是很多计算中我们都使用3.14进行计算，当要求计算精度提高，圆周率需要取3.142的时候，我们不得不修改所有使用3.14的代码，倘若代码量比较多时，不仅工作量大，还可能遗漏。
系统常量
系统常量是PHP已经定义好的常量，我们可以直接拿来使用，常见的系统常量有：
echo __FILE__;
// php程序文件名。它可以帮助我们获取&amp;quot;当前文件在服务器的物理位置&amp;quot;。

echo __LINE__;
// PHP程序文件行数。它可以告诉我们，&amp;quot;当前代码在第几行&amp;quot;。

echo PHP_VERSION;
// 当前解析器的版本号。可以提前知道&amp;quot;PHP代码是否可被该PHP解析器解析&amp;quot;。

echo PHP_OS;
// 执行当前PHP版本的操作系统名称。&amp;quot;服务器所用的操作系统名称&amp;quot;，可以根据该操作系统优化我们的代码。

常量取值
获取常量值的有两种方法取值。
第一种是使用常量名直接获取值；例如计算圆周率的面积：
define(&amp;quot;PI&amp;quot;,3.14);
$r=1;
$area = PI*$r*$r; //计算圆的面积

第二种是使用constant()函数。它和直接使用常量名输出的效果是一样的，
但函数可以动态的输出不同的常量，在使用上要灵活、方便，其语法格式如下：
$p=&amp;quot;&amp;quot;;
//定义圆周率的两种取值
define(&amp;quot;PI1&amp;quot;,3.14);
define(&amp;quot;PI2&amp;quot;,3.142);
//定义值的精度
$height = &amp;quot;中&amp;quot;;
//根据精度返回常量名，将常量变成了一个可变的常量
if($height == &amp;quot;中&amp;quot;){
    $p = &amp;quot;PI1&amp;quot;;
}else if($height == &amp;quot;低&amp;quot;){
	$p = &amp;quot;PI2&amp;quot;;
}
$r=1;
echo $p; // 若不使用constant，输出的就是Pi1
$area= constant($p)*$r*$r;
echo $area;

mixed constant(string constant_name)
第一个参数constant_name为要获取常量的名称，也可为存储常量名的变量。
如果成功则返回常量的值，失败则提示错误信息常量没有被定义。
（注：mixed表示函数返回值类型为多种不同的类型，string表示参数类型为字符串类型）
判定常量是否被定义
如果常量被重复定义以后，PHP解析器会发出“Constant XXX already defined”的警告，
提醒我们该常量已经被定义过。在团队开发，或代码量很大的情况下，如何去判定一个常量是否被定义呢？
defined()函数可以帮助我们判断一个常量是否已经定义，其语法格式为：
define(&amp;quot;PI1&amp;quot;,3.14);
$p = &amp;quot;PI1&amp;quot;;
$is1 = defined($p);
$is2 = defined(&amp;quot;PI2&amp;quot;);
var_dump($is1);
var_dump($is2);
结果：
bool(true)
bool(false)

//其中，赋值给$p目的就是间接来表明PI1已经被定义，所以$is1 = defined(PI1);亦可行。

// define方法是定义一个常量的方法，返回的是该已定义的常量；
// defined方法是判断一个常量是否定义，返回的是一个bool值（true/false）。

bool defined(string constants_name)
它只有参数constant_name，指的是要获取常量的名称，若存在则返回布尔类型true，否则返回布尔类型false; （注：bool表示函数返回值类型为布尔类型）

四、运算符
分为算术运算符、赋值运算符、比较运算符、三元运算符、逻辑运算符、字符串连接运算符、错误控制运算符。
算术运算符：
加法运算、减法运算、乘法运算、除法运算
赋值运算符：
(1)“=”：把右边表达式的值赋给左边的运算数。它将右边表达式值复制一份，交给左边的运算数。
换而言之，首先给左边的运算数申请了一块内存，然后把复制的值放到这个内存中。
(2)“&amp;amp;”：引用赋值，意味着两个变量都指向同一个数据。
它将使两个变量共享一块内存，如果这个内存存储的数据变了，那么两个变量的值都会发生变化。
$a = &amp;quot;学习PHP！&amp;quot;;
$b = $a;
$c = &amp;amp;$a;
$a = &amp;quot;我天天在学习PHP！&amp;quot;;
echo $b.&amp;quot;&amp;lt;br /&amp;gt;&amp;quot;;
echo $c.&amp;quot;&amp;lt;br /&amp;gt;&amp;quot;;

结果：
学习PHP！
我天天在学习PHP！

比较运算符

三元运算符
(“?:”)三元运算符也是一个比较运算符，
对于表达式(expr1)?(expr2):(expr3)，如果expr1的值为true，则此表达式的值为expr2，否则为expr3。
$a = 78;//成绩
	$b = $a &amp;gt;= 60 ? &amp;quot;及格&amp;quot;: &amp;quot;不及格&amp;quot;; 
	echo $b;

结果：及格

逻辑运算符

1、逻辑与：要求所有人都投票同意，才会通过某协议；
2、逻辑或：只要求一个人投票同意就行；
3、逻辑异或：只能有且只能有一个人投票同意；
4、逻辑非：某个人要反对，但是通过逻辑非，使其反对无效；
“与”和“或”有两种不同形式运算符的原因是它们运算的优先级（就是运算的有限顺序，比如我们小学的时候学习四则运算，加减乘除混合在一起啦，优先计算乘除，再计算加减）不同。

字符串连接运算符
（1）连接运算符(“.”)：它返回将右参数附加到左参数后面所得的字符串。
$a = &amp;quot;张先生&amp;quot;;
$tip = $a.&amp;quot;,欢迎您在慕课网学习PHP！&amp;quot;;
echo  $tip.&amp;quot;&amp;lt;br /&amp;gt;&amp;quot;;

结果：
张先生,欢迎您在慕课网学习PHP！


（2）连接赋值运算符(“.=”)：它将右边参数附加到左边的参数后。
$b = &amp;quot;东边日出西边雨&amp;quot;;	
$b .= &amp;quot;,道是无晴却有晴&amp;quot;;
$c = &amp;quot;东边日出西边雨&amp;quot;;	
$c = $c.&amp;quot;,道是无晴却有晴&amp;quot;;
echo  $b.&amp;quot;&amp;lt;br /&amp;gt;&amp;quot;;
echo  $c.&amp;quot;&amp;lt;br /&amp;gt;&amp;quot;;

结果：
东边日出西边雨,道是无晴却有晴
东边日出西边雨,道是无晴却有晴


错误控制运算符
PHP中提供了一个错误控制运算符“@”，对于一些可能会在运行过程中出错的表达式时，我们不希望出错的时候给客户显示错误信息，这样对用户不友好。于是，可以将@放置在一个PHP表达式之前，该表达式可能产生的任何错误信息都被忽略掉；
如果激活了track_error（这个玩意在php.ini中设置）特性，表达式所产生的任何错误信息都被存放在变量$php_errormsg中，此变量在每次出错时都会被覆盖，所以如果想用它的话必须尽早检查。
需要注意的是：错误控制前缀“@”不会屏蔽解析错误的信息，不能把它放在函数或类的定义之前，也不能用于条件结构例如if和foreach等。
$conn = @mysql_connect(&amp;quot;localhost&amp;quot;,&amp;quot;username&amp;quot;,&amp;quot;password&amp;quot;);
// 这样就不会报错并打印出来

取整函数
ceil() 函数向上舍入为最接近的整数。
echo(ceil(0.60);
echo(ceil(0.40);
echo(ceil(5);
echo(ceil(5.1);
echo(ceil(-5.1);
echo(ceil(-5.9));

输出：
1
1
5
6
-5
-5



五、顺序结构
顺序结构就像一条直线，按着顺序一直往下执行。我们编写的代码默认都是按照顺序结构执行的。
条件结构:
if…else…
if(条件){
     //分配服务器干的任务A
}else{
     //分配服务器干的任务B
}

if…else if…
if(条件一){
     //分配服务器干的任务A
}else if(条件二){
     //分配服务器干的任务B
}

if…else if…else…
if(条件一){
     //分配服务器干的任务A
}else if(条件二){
     //分配服务器干的任务B
}else{
     //分配服务器干的任务C
}

当两个条件对立时用if…else，当两个条件不存在对立关系时用if…else if…
switch…case…
switch (条件)
{
case 条件值一:
  //任务一
  break; 
case 条件值二:
  //任务二
  break;
default:
  //默认任务
}

switch…case…中的break：
break的作用是结束switch，亦可以避免冗长的 “if..else if..else”代码块。

//A例子
$num = 2;
$sum  = 10; 
switch($num){
    case 1:
		$sum = $sum  + 10;
		break;
	case 2:
		$sum = $sum  + 10;
		break;
 	case 3:
		$sum = $sum  + 10;
		break;
	default:
		$sum = $sum  + 10;
}
 echo &amp;quot;A例子的值是：&amp;quot;.$sum.&amp;quot;&amp;lt;br /&amp;gt;&amp;quot;;

 结果：A例子的值是：20
 // 直接查询到num为2，sum加10后即刻break，跳出查找。

//B例子
$num = 2;
$sum  = 10; 
switch($num){
	case 1:
		$sum = $sum  + 10;
	case 2:
		$sum = $sum  + 10;
	case 3:
		$sum = $sum  + 10;
	default:
		$sum = $sum  + 10;
}
 echo &amp;quot;B例子的值是：&amp;quot;.$sum.&amp;quot;&amp;lt;br /&amp;gt;&amp;quot;;

 结果：B例子的值是：40
//查询到num为2后，sum加10，因为没break，继续执行case3，加了10，再执行了defailt。 


while循环语句
while(条件){ 
     //执行任务
}

首先判断某个条件是否符合（条件返回值是否为TRUE），
若符合则执行任务，执行完毕任务，再判断条件是否满足要求，符合则重复执行此任务，否则结束任务。
do while循环语句
do{ 
     //执行任务
}while(条件)

首先执行任务（while语句是先判断条件是否成立，再执行任务），执行任务完毕，判断某个条件是否符合（条件返回值是否为TRUE），若符合则再次执行任务，执行完毕任务，继续判定条件。
while与do…while循环语句的区别：
while先判断条件是否成立，后执行循环，do...while先执行一次任务，再判断是否继续执行循环，也就是说do...while至少会执行一次任务。当条件为FALSE时，while中的任务会一次也不执行，do...while中的任务会执行1次。
for循环语句
for(初始化;循环条件;递增项){
      //执行任务
}

for($i = 1,$i&amp;lt;=100;$i++){
    echo &amp;quot;666&amp;quot;;
}

for 语句中，“初始化”在循环开始前无条件求值一次，“循环条件”在每次循环开始前求值。如果值为 TRUE，则继续循环，执行循环体语句（执行任务）。如果值为 FALSE，则终止循环。“递增项”在每次循环之后被求值（执行）。其常用于循环执行代码块指定的次数。
foreach循环语句
常用于遍历数组，一般有两种使用方式:不取下标、取下标。

//eg
$students = array(
&#39;2010&#39;=&amp;gt;&#39;令狐冲&#39;,
... ...
... ...
&#39;2019&#39;=&amp;gt;&#39;宁中则&#39;,
);//10个学生的学号和姓名，用数组存储

（1）只取值，不取下标

 foreach (数组 as 值){
//执行的任务
}

//使用循环结构遍历数组,获取学号和姓名  
foreach($students as  $v)
{ 
    echo $v;//输出（打印）姓名
	echo &amp;quot;&amp;lt;br /&amp;gt;&amp;quot;;
}

（2）同时取下标和值

foreach (数组 as 下标 =&amp;gt; 值){
 //执行的任务
}

//使用循环结构遍历数组,获取学号和姓名  
foreach($students as $key =&amp;gt;$v)
{ 
    echo $key.&amp;quot;:&amp;quot;.$v;//输出（打印）学号：姓名
	echo &amp;quot;&amp;lt;br /&amp;gt;&amp;quot;;
}
?&amp;gt;


结构嵌套
条件嵌套
if里加if，
if (条件)
{
    if 条件成立时执行的代码;
}
elseif (条件)
{
    elseif 条件成立时执行的代码;
}
else
{
    条件不成立时执行的代码;
}

循环嵌套
常用于遍历二维数组。

 $students = array(
&#39;2010&#39;=&amp;gt;array(&#39;令狐冲&#39;,&amp;quot;59&amp;quot;),
... ...
... ...
&#39;2019&#39;=&amp;gt;array(&#39;宁中则&#39;,&amp;quot;90&amp;quot;),
);//10个学生的学号、姓名、分数，用数组存储
 
foreach($students as $key=&amp;gt;$val)
{ //使用循环结构遍历数组,获取学号 
     echo $key; //输出学号
	 echo &amp;quot;:&amp;quot;;
	 //循环输出姓名和分数
    foreach($val as $v)
	{
		echo $v; 
	 }
	 echo &amp;quot;&amp;lt;br /&amp;gt;&amp;quot;;
}


#循环结构与条件结构嵌套
 $students = array(
&#39;2010&#39;=&amp;gt;&#39;令狐冲&#39;,
... ...
... ...
&#39;2019&#39;=&amp;gt;&#39;宁中则&#39;,
);//10个学生的学号和姓名，用数组存储
$query = &#39;2014&#39;;
//使用循环结构遍历数组,获取学号和姓名
foreach($students as $key =&amp;gt;$v)
{ 
    //使用条件结构，判断是否为该学号
	if($key == $query)
	{ 
		echo $v;//输出（打印）姓名
		break;//结束循环（跳出循环）
	}
}


在执行任务时，对于一些特殊的任务进行额外处理。
扩展学习：
PHP进阶篇-字符串操作：http://www.imooc.com/learn/726
来源：慕课网，内容持续更新中...


为什么有了这么完备的“慕课网学习系统”，还要做个复制粘贴呢？
1.这是一个笔记，是慕课课程的提炼，为学精一门语言而开辟的一个学习笔记文章。
2.再好的学习平台，也可能会有结束的一天，所以我现在做的事情，可能可以为优秀的平台在茫茫的互联网长河中留下一点点痕迹。


                                        </div>
                                        
                                            <a class="btn btn-text" href="https://littlebuzi.github.io/learn_php_1/">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://littlebuzi.github.io/xp_web/">
                        疑难杂症
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2019-10-21</time>
                    
                        <a href="https://littlebuzi.github.io/O2zTJWpBN/" class="post-tag i-tag
                            i-tag-other_1">
            #php
        </a>
                        
                </div>
                <div class="post-article">
                    
                        <a href="https://littlebuzi.github.io/xp_web/" class="post-feature-image" style="background-image:url(https://img95.699pic.com/xsj/0p/hb/bt.jpg!/fw/700/watermark/url/L3hzai93YXRlcl9kZXRhaWwyLnBuZw/align/southeast) ">
                        </a>
                        
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            xp的web之旅
环境：
用家里的xp系统，是之前用类似“番茄花园”的整合版安装的。
在尝试各种wamp的版本屡屡碰壁后，试着用其他整合环境：
1.phpstudy
初次采用时，搭建z-blog感觉良好，界面也比较熟悉。
而后的chanzhi与lzcms都同一个错误，you don’t have permisson to aseen it ! ;可能是lzcms的静态没开，但之后开了也没反应，并不能确认是否开成功。
之后发现可能是之恩能够开在linux上！也可能第一次访问后，就默认了一个ip一个网站，再访问其他需要在配置文件里修改加上，但这个可能比较小，因为这违反了www的访问习惯，
在这个目录下，就算是不同系统，如果把他们看成其中一个的分系统，那样也说得清。
2.phpwamp
就是因为phpstudy遇到了这个情况，所以采用phpwamp，感觉这个比他跟老式，不过更加适合我的xp。
用着用着感觉也是和phpstudy差不多，类似于绑定访问的第一个，这次我不用lzcms，我用chanzhicms。也尝试着去改这改那，发现还是不行。
最后，找到了wamp2.2/2.4（之前的假wamp浪费了很多时间），php版本和apache版本也刚好到chanzhi要求。
所以用上了这个wamp，xp真的不容易，各种软件要兼容，在现在这个环境下。
计划：用wamp学tp，最初的想法就是这样，为了混乱原有的环境，想在另一台电脑，xp上弄，结果也不省心。最后可以了



写能执行cmd命令的bat文件
每次运行jar文件时，我总是需要先打开cmd窗口，再切换到我jar文件保存的盘符，再执行java -jar test.jar，虽然操作不是很复杂，但是如果直接写一个bat文件，每次使用直接双击，这种傻瓜式的方式，估计更容易被大家所喜欢并能够方便使用。
方式也很简单，比如：

新建一个txt文本，输入如下：

然后保存为bat文件即可，如果以后路径或者名称有变更的话，直接编辑修改，不用每次再去cmd中输入指令了。
双击即可运行test1.jar的代码啦！
又或者例如：

更新hexo，同步缓存

版权声明：本文为博主原创文章，遵循 CC 4.0 BY-SA 版权协议，转载请附上原文出处链接和本声明。本文链接：https://blog.csdn.net/qq_15158911/article/details/54613948




云计算 docker
参考：
https://blog.csdn.net/qq_22211217/article/details/80414227
https://blog.csdn.net/hehailiang_dream/article/details/79983229
https://blog.csdn.net/yr12dong/article/details/80720690



关于网络工程师
考纲：
【中国计算机技术职业资格网(软考)】
2019年官网考纲：http://www.ruankao.org.cn/platform/details?code=02_24

学习资源：
【哔哩哔哩 (゜-゜)つロ 干杯~-bilibili】
1.2019网络工程师【软考】
2.网络工程师考试-视频教程-希赛
下载途径：
1.https://www.jijidown.com/
2.b站手机版
3.https://github.com/Henryhaohao/Bilibili_video_download



简易桌面 v1.0 总结
项目1：简易桌面1.0
针对于mom使用eclipse为平台制作的第一代，简易桌面软件，目的在于用户的简易操作。
问题：经验总结：
第一：明确目的，时刻纠正方向，走走停停。
第二：确定方向，用图画的方式将界面描绘好，利于以后的代码翻译编写。
第三：在实际编程的过程中，会出现一些小改动，处于临时的灵感，就会对草稿图进行修改，想象计划与实际真的有很大的出入。真的不去实际做一做，可能你永远也不知道。
第四：停留知识水平，框架的基础构建，只是皮毛，经过网上的百度学习，在错误值积累经验，蹒跚学步，跌跌撞撞。做出来还是可以看的，但是技术要求方面不高。达不到要求。
第五：有必要进行一次完整的学习，零碎伴有一些错误的学习经历，危害甚大。一次不完整的学习经历的确可以对往后造成很大的危害。
第六：遇到问题方面；是灵感想法创意的来源。认识到错误，提高自己。做好笔记。
第七，固步自封，井底之蛙，最为致命；以上讨论的比较大概，会做更详细的分析（问题）。
今天导出后 在xp上准备运行 先前研究过得知 需要运行环境jre才能运行可运行jar，在win10（有jre1.8的环境中运行可以）上ok，在xp上时，显示jar直接为一个zip，考虑问题，可能是环境jre安装错误，后面才意识到要安在c盘，还要注册表注册？主要是下载来的jre1.8u151是类似安装包安装在c盘上后的文件夹效果，应该下个安装包。再来试试。正在放到xp上的感觉，xp真的很久很久。以后考虑换成win7，再来，可能会轻松点



简易桌面 v1.0 问题
简易桌面v1.0
问题1:（状态：已解决）
解决：用new Enter（）的方法，比没有想象中的跳转画面，但是衍生出new后，布局排版乱了，按钮飞到最上面，经过移植斗地主的布局代码，经过调试修改，成功解决，ojbk）
问题：以new Enter（）；的形式切换应用节目缺点，画面会跳一下，影响观感，使用体验。

将DDX展开为全屏，原游戏窗口大小不变，流式布局下添加按钮btn，setbounds，背景Lable。
问题二：（未解决）
卡片式切换组件？
文字+纯色背景→图片→组件→程序
new Enter（）后，前个class会自动隐藏掉
问题三：（simplewindow系统设计）
主界面-音乐播放器

音乐播放器考虑new后会重复播放，而且主界面在new后还在，所以计划把播放器仅仅镶在第一个主界面即可，有难度……应该ok
斗地主界面

推箱子界面

魔兽

相片浏览界面

主菜单
进度50%
音乐界面修改作为主菜单
看相册界面作为主界面与游戏按钮并列的按钮
这两个项目进展可以，遇到的问题很多也解决了很多，github上的代码不错，要达到预期效果还需要经过不断调整，学习。
进度85%



简易桌面 v1.0 错误汇总
问题1：【五子棋退出按钮后序出现多余画面】
注意点1：
【五子棋退出按钮后序出现多余画面】
这是五子棋小游戏的游戏画面

其他地方大致都调试好，运行都ok。
出问题的是红色圈的按钮；“返回桌面”
  if(event.getSource()==exitbtn){
        dispose(); 
//存在执行后，会继续弹出按钮和面板，再按一次吃咸的“确认”按钮，才能正常关闭
 }

详细如下：

当按按钮“返回桌面”时，应该是执行“dispose（）”，一个很直接的关闭窗口命令。
然而出现了这一幕，可能是关乎于:

this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
this.setDefaultCloseOperation(JFrame.EXIT_ON_DISPOSE); //（这句dispose）

不知道正确性，就是当关闭窗口时是否停止整个线程？的意思？
这种情况是出现在用Star()启动时会出现，（frame之间切换的冲突？），单独运行这个五子棋Gobang（），关闭便不会出现这种情况。
注意点2：
【第？个ImagesVewier，尝试通过识别图片分辨率，长和宽来确定他的setbounds和size】
通过识别图片的长和宽，如（图片）width+height&amp;gt;=1800（拟定大小，尽可能小），考虑图片比较小就将其定位于接近框架中间（框架为全屏），并且将其（照片）设为一个800*800（较小）的大小。若width+height&amp;lt;1800，考虑比较大的图片，将其设置为最大窗口大小，后续考虑，图片的长宽比例，进行图片size的调整。
if(width+height&amp;gt;=1800){
iconimage.setbounds(200,200,800,800)
}
if(width+height&amp;lt;1800){
iconimage.setbounds(350,350,800,800)//拉扯
}

注意点3：按钮监听的两种模式
按钮监听的两种模式：第一种可以监听事件里可以直接使用dispose();而第二种需要如：jFrame.dispose()；this.dispose();????还未100%肯定，待研究
class entend ActionListener {

//按钮布局，JButton；
如果是在class里初始化声明了如：
JButton DDZButton，BOXButton，WZQButton；
后面接的直接可以是：

DDZButton = new JButton(&amp;quot;斗地主&amp;quot;,new ImageIcon(&amp;quot;images/dizhu.gif&amp;quot;));
BOXButton = new JButton(new ImageIcon(&amp;quot;image/bt.jpg&amp;quot;));
WZQButton = new JButton(&amp;quot;五子棋&amp;quot;,new ImageIcon(&amp;quot;images/5son.png&amp;quot;));        

DDZButton.setBounds(63,34,180,130);
BOXButton.setBounds(64,180,180,133);
WZQButton.setBounds(63,331,188,140);

this.add(WZQButton);
this.add(BOXButton);
this.add(DDZButton);

//装监听
backButton.addActionListener(this);
DDZButton.addActionListener(this);
BOXButton.addActionListener(this);


public ActionListener{

if(ae.getSource()==DDZButton)
             {
                new Main();
             }
            if(ae.getSource()==BOXButton)
             {
                new LoginFrame();
             }
            if(ae.getSource()==WZQButton)
             {
                new Gobang();
             }                   
   }
}
而如果没有事先声明初始化的话
这样：

JButton DDZButton = new JButton(&amp;quot;斗地主&amp;quot;,new ImageIcon(&amp;quot;images/dizhu.gif&amp;quot;));
JButton BOXButton = new JButton(new ImageIcon(&amp;quot;image/bt.jpg&amp;quot;));
JButton WZQButton = new JButton(&amp;quot;五子棋&amp;quot;,new ImageIcon(&amp;quot;images/5son.png&amp;quot;));    
DDZButton.xxxxx{
xxxxxxx
}
//监听都好像不用

注意点4：imagesviwer拥有的功能
github上的这个imagesviwer拥有的功能与其他类型的图片浏览器相比。其具有多了按钮有图标，其他很相似。但意外发现“-&amp;gt;”这个符号。提示错误，是因为这个符号是jdk1.8的新特性。我得eclipse jdk开发环境最高是到1.7，所以。。然后为了解决这个问题，首先装上一个jdk1.8（这里补充jdk是开发环境，jre是运行环境，即导出成可运行jar后，需要先安装对应版本的jre。），关联eclipse后，依然是不行，（具体：依然提醒和之前一样的错误，没有变化）。然后上了eclipse的官网，Oracle上下了个网络安装包，安装了个应该是ee版本的eclipse，最高jdk版本达到1.9（最新），安装打开后，启动画面是什么otion（氧气的英文）。结果导入包后，运行结果：界面出来了，但是按按钮没反应。（图片并未出来，后面有说明）eclipse里提示错误：
{
Exception in thread &amp;quot;AWT-EventQueue-0&amp;quot; java.lang.NullPointerException
     at github.ViewerAction.actionPerformed(ViewerAction.java:39)
     at javax.swing.AbstractButton.fireActionPerformed(Unknown Source)
     at javax.swing.AbstractButton$Handler.actionPerformed(Unknown Source)
     at javax.swing.DefaultButtonModel.fireActionPerformed(Unknown Source)
     at javax.swing.DefaultButtonModel.setPressed(Unknown Source)
     at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(Unknown Source)
     at java.awt.Component.processMouseEvent(Unknown Source)
     at javax.swing.JComponent.processMouseEvent(Unknown Source)
     at java.awt.Component.processEvent(Unknown Source)
     at java.awt.Container.processEvent(Unknown Source)
     at java.awt.Component.dispatchEventImpl(Unknown Source)
     at java.awt.Container.dispatchEventImpl(Unknown Source)
     at java.awt.Component.dispatchEvent(Unknown Source)
     at java.awt.LightweightDispatcher.retargetMouseEvent(Unknown Source)
     at java.awt.LightweightDispatcher.processMouseEvent(Unknown Source)
     at java.awt.LightweightDispatcher.dispatchEvent(Unknown Source)
     at java.awt.Container.dispatchEventImpl(Unknown Source)
     at java.awt.Window.dispatchEventImpl(Unknown Source)
     at java.awt.Component.dispatchEvent(Unknown Source)
     at java.awt.EventQueue.dispatchEventImpl(Unknown Source)
     at java.awt.EventQueue.access$500(Unknown Source)
     at java.awt.EventQueue$3.run(Unknown Source)
     at java.awt.EventQueue$3.run(Unknown Source)
     at java.security.AccessController.doPrivileged(Native Method)
     at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)
     at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)
     at java.awt.EventQueue$4.run(Unknown Source)
     at java.awt.EventQueue$4.run(Unknown Source)
     at java.security.AccessController.doPrivileged(Native Method)
     at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)
     at java.awt.EventQueue.dispatchEvent(Unknown Source)
     at java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)
     at java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)
     at java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)
     at java.awt.EventDispatchThread.pumpEvents(Unknown Source)
     at java.awt.EventDispatchThread.pumpEvents(Unknown Source)
     at java.awt.EventDispatchThread.run(Unknown Source)
Exception in thread &amp;quot;AWT-EventQueue-0&amp;quot; java.lang.NullPointerException
     at github.ViewerAction.actionPerformed(ViewerAction.java:39)
     at javax.swing.AbstractButton.fireActionPerformed(Unknown Source)
     at javax.swing.AbstractButton$Handler.actionPerformed(Unknown Source)
     at javax.swing.DefaultButtonModel.fireActionPerformed(Unknown Source)
     at javax.swing.DefaultButtonModel.setPressed(Unknown Source)
     at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(Unknown Source)
     at java.awt.Component.processMouseEvent(Unknown Source)
     at javax.swing.JComponent.processMouseEvent(Unknown Source)
     at java.awt.Component.processEvent(Unknown Source)
     at java.awt.Container.processEvent(Unknown Source)
     at java.awt.Component.dispatchEventImpl(Unknown Source)
     at java.awt.Container.dispatchEventImpl(Unknown Source)
     at java.awt.Component.dispatchEvent(Unknown Source)
     at java.awt.LightweightDispatcher.retargetMouseEvent(Unknown Source)
     at java.awt.LightweightDispatcher.processMouseEvent(Unknown Source)
     at java.awt.LightweightDispatcher.dispatchEvent(Unknown Source)
     at java.awt.Container.dispatchEventImpl(Unknown Source)
     at java.awt.Window.dispatchEventImpl(Unknown Source)
     at java.awt.Component.dispatchEvent(Unknown Source)
     at java.awt.EventQueue.dispatchEventImpl(Unknown Source)
     at java.awt.EventQueue.access$500(Unknown Source)
     at java.awt.EventQueue$3.run(Unknown Source)
     at java.awt.EventQueue$3.run(Unknown Source)
     at java.security.AccessController.doPrivileged(Native Method)
     at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)
     at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)
     at java.awt.EventQueue$4.run(Unknown Source)
     at java.awt.EventQueue$4.run(Unknown Source)
     at java.security.AccessController.doPrivileged(Native Method)
     at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)
     at java.awt.EventQueue.dispatchEvent(Unknown Source)
     at java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)
     at java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)
     at java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)
     at java.awt.EventDispatchThread.pumpEvents(Unknown Source)
     at java.awt.EventDispatchThread.pumpEvents(Unknown Source)
     at java.awt.EventDispatchThread.run(Unknown Source)
}

但是以前曾经在通过改变里面的图片绝对路径后，显示图片后，按按钮好像第一次不行，之后再试就可以正常运行了。
注意点5：进入斗地主反应（响应）慢
问题一：进入“斗地主小游戏”的时候，反应速度接近7至8秒。其他的小游戏还行。





                                        </div>
                                        
                                            <a class="btn btn-text" href="https://littlebuzi.github.io/xp_web/">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://littlebuzi.github.io/typecho_theme/">
                        关于博客主题
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2019-10-21</time>
                    
                        <a href="https://littlebuzi.github.io/O2zTJWpBN/" class="post-tag i-tag
                            i-tag-primary">
            #php
        </a>
                        
                </div>
                <div class="post-article">
                    
                        <a href="https://littlebuzi.github.io/typecho_theme/" class="post-feature-image" style="background-image:url(https://littlebuzi.github.io//post-images/typecho_theme.png) ">
                        </a>
                        
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            typecho博客主题修改
以下为修改主题，自定义的一些配置：
原主题地址：
Postbird-typecho-two-sidebar-block作者: postbird 版本: 0.0.1Postbird typecho 两栏博客简约主题
了解详情：
https://gitee.com/postbird/typecho-blog-theme-two-siderbar
仿docs主题（改进）：
1.导航栏颜色，背景。
2.菜单折叠颜色。
3.模板响应式。
随缘找回来，因为以选择其他主题，有空换一下截个图（然而也没人看，主要是记录修改的规律嗯）
自定义脚本：（百度统计）
&amp;lt;script&amp;gt;
    (function(){
        var canonicalURL, curProtocol;
        //Get the &amp;lt;link&amp;gt; tag
        var x=document.getElementsByTagName(&amp;quot;link&amp;quot;);
        //Find the last canonical URL
        if(x.length &amp;gt; 0){
            for (i=0;i&amp;lt;x.length;i++){
                if(x[i].rel.toLowerCase() == &#39;canonical&#39; &amp;amp;&amp;amp; x[i].href){
                    canonicalURL=x[i].href;
                }
            }
        }
        //Get protocol
        if (!canonicalURL){
            curProtocol = window.location.protocol.split(&#39;:&#39;)[0];
        }
        else{
            curProtocol = canonicalURL.split(&#39;:&#39;)[0];
        }
        //Get current URL if the canonical URL does not exist
        if (!canonicalURL) canonicalURL = window.location.href;
        //Assign script content. Replace current URL with the canonical URL
        !function(){var e=/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,r=canonicalURL,t=document.referrer;if(!e.test(r)){var n=(String(curProtocol).toLowerCase() === &#39;https&#39;)?&amp;quot;https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif&amp;quot;:&amp;quot;//api.share.baidu.com/s.gif&amp;quot;;t?(n+=&amp;quot;?r=&amp;quot;+encodeURIComponent(document.referrer),r&amp;amp;&amp;amp;(n+=&amp;quot;&amp;amp;l=&amp;quot;+r)):r&amp;amp;&amp;amp;(n+=&amp;quot;?l=&amp;quot;+r);var i=new Image;i.src=n}}(window);})();
&amp;lt;/script&amp;gt;

自定义 stylesheet 样式：
.widget {
    margin-bottom: 0!important;
}

.list-group-item-info {
    color: #fff;
}

#secondary .list-group-item.list-group-item-info {
    background-color: #343a40!important;
}

Gridea博客主题修改
顶部导航栏会在纵向滚动条下拉时自动隐藏（淡出），在上拉时在弹出
（给出最大阅读空间，保留上拉出现导航栏，保证功能）
找到Gridea的工作目录：

进入并打开：Gridea\themes\lemon\templates\includes\header.ejs
开头添加：

&amp;lt;style&amp;gt;

.header-navigation {
	position:fixed;
	top:0;
	width:100%;
	height:60px;
	line-height:60px;
	background-color:#333;
	text-align:center;
	box-shadow:0 14px 28px rgba(0,0,0,0.25),0 10px 10px rgba(0,0,0,0.22);
	z-index:9999;
}

/* Slide transitions */

	.slideUp {
	/* -webkit-transform:translateY(-100px);
	transform:translateY(-100px);
	*/
	  -webkit-transform:translateY(-100px);
	-ms-transform:translateY(-100px);
	-o-transform:translateY(-100px);
	transform:translateY(-100px);
	/*transition:transform .5s ease-out;
	*/
	  -webkit-transition:transform .5s ease-out;
	-o-transition:transform .5s ease-out;
	transition:transform .5s ease-out;
}
.slideDown {
	/*-webkit-transform:translateY(0);
	transform:translateY(0);
	*/
	  -webkit-transform:translateY(0);
	-ms-transform:translateY(0);
	-o-transform:translateY(0);
	transform:translateY(0);
	/*transition:transform .5s ease-out;
	*/
	  -webkit-transition:transform .5s ease-out;
	-o-transition:transform .5s ease-out;
	transition:transform .5s ease-out;
}
&amp;lt;/style&amp;gt;


保存，刷新Gridea，查看效果

                                        </div>
                                        
                                            <a class="btn btn-text" href="https://littlebuzi.github.io/typecho_theme/">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://littlebuzi.github.io/mysql_web/">
                        数据库&amp;PHP-问题合集
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2019-10-21</time>
                    
                        <a href="https://littlebuzi.github.io/O2zTJWpBN/" class="post-tag i-tag
                            i-tag-other_1">
            #php
        </a>
                        
                </div>
                <div class="post-article">
                    
                        <a href="https://littlebuzi.github.io/mysql_web/" class="post-feature-image" style="background-image:url(https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1571650404926&amp;di=0f55576199a347f2fffed81b6b24b141&amp;imgtype=jpg&amp;src=http%3A%2F%2Fimg4.imgtn.bdimg.com%2Fit%2Fu%3D1390309034%2C2555991170%26fm%3D214%26gp%3D0.jpg) ">
                        </a>
                        
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            #关于数据库-mysql账号密码login
数据库——mysql
忘记密码处理：
主要分成两种情况：
第一大种：（集成环境安装的，倾向php，mysql小型数据库）
账号：root
密码：
免密；
root；
168168；
123456
等

第二大种：（倾向mysql安装版或压缩版，半集成）
账号：root
密码：
（一段字符英文加数字）默认给你设置好，第一次初始化需要手动修改（特色）  
如：
ABC123xyz
Wx&amp;lt;&amp;lt;1Cfdd8&amp;amp;f

新的理解:
在阿里云上安装phpstudy后，第一次进入数据库密码不对，默认数据库密码应为root，所以phpstudy没用他自己的数据库，mysql也启动失败，最后手动启动“服务”里的mysql，查看原有mysql密码，可以了。

#php查询sql 中文乱码“ ？”
查询中文时出现乱码”？？？？1“
编码检查都是utf-8
之后按照这个，修改了mysql 的 my.ini 三个位置 ok
https://blog.csdn.net/u014762625/article/details/80667115

由上图可见database和server的字符集使用了latin1编码方式，不支持中文，即存储中文时会出现乱码。以下修改方法：
Linux 系统
(1)关闭mysql服务

service mysql stop  

(2)修改 /etc/mysql/my.cnf  （默认的安装路径）

vim /etc/mysql/my.cnf  

打开my.cnf后，在文件内的[mysqld]下增加如下两行设置:

character_set_server=utf8  

init_connect=&#39;SET NAMES utf8&#39;  

保存退出

(3) 重新启动mysql服务

service mysql restart  

完成修改，使用查询命令show variables like &#39;character%&#39;; 查看编码变为utf8的。

windows系统
打开mysql安装目录，有一个my-default.ini文件，复制一份修改名称my.ini

打开my.ini,加入下面的内容：

[mysqld]
character-set-server=utf8 
[mysql]
default-character-set=utf8
[client]

default-character-set=utf8

保存，重启mysql服务，完成修改。

————————————————
版权声明：本文为CSDN博主「宋宋Jimi」的原创文章，遵循 CC 4.0 BY-SA 版权协议，转载请附上原文出处链接及本声明。
原文链接：https://blog.csdn.net/u014762625/article/details/80667115
以下与标题无关：
（记一次记录ip，get ip php语句 安在菜单栏的加载里（数据库查询） 插进数据库 再后台读取）

转载请注明来源，欢迎对文章中的引用来源进行考证，欢迎指出任何有错误或不够清晰的表达。可以在下面评论区评论，也可以邮件至 501596098@qq.com


文章标题:php数据库的增删改查及php与javascript之间的交互
本文作者:Buzi
发布时间:2019-07-30, 13:54:07
最后更新:2019-09-18, 15:09:30
原始链接:http://littlebuzi.github.io/2019/07/30/php/mysql_php/
版权声明: &amp;quot;署名-非商用-相同方式共享 4.0&amp;quot; 转载请保留原文链接及作者。


                                        </div>
                                        
                                            <a class="btn btn-text" href="https://littlebuzi.github.io/mysql_web/">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://littlebuzi.github.io/mysql_php/">
                        php数据库的增删改查&amp;php与javascript之间的交互
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2019-10-21</time>
                    
                        <a href="https://littlebuzi.github.io/O2zTJWpBN/" class="post-tag i-tag
                            i-tag-other_3">
            #php
        </a>
                        
                </div>
                <div class="post-article">
                    
                        <a href="https://littlebuzi.github.io/mysql_php/" class="post-feature-image" style="background-image:url(https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1571649569504&amp;di=0a26c2aad18ce109f2d063419f972188&amp;imgtype=0&amp;src=http%3A%2F%2Fhf.php.tedu.cn%2Fupload%2F20180125%2F20180125112553_115.jpg) ">
                        </a>
                        
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            
这篇文章主要为大家详细介绍了php数据库的增删改查，以及php与javascript之间的交互，具有一定的参考价值，感兴趣的小伙伴们可以参考一下,原地址：https://www.jb51.net/article/122598.htm


使用语言操作数据库是重中之重，如果一门语言你不懂得如何操作数据库，那么你还是没有学会这门语言。
PHP操作数据库的方法并不难
同时php的值还可以与JavaScript脚本之间进行控制
一般是php的值传递到javascript中，一般不会反过来操作

一、基本目标
首先，在mysql中有一张用户信息表user，里面的字段分别是id,username与password，打开网页dbselect.php，首先就用php查出整张user表：

然后，插入数据的一栏，输入数据，就可把数据插入到mysql中的user表当中

在修改数据的一栏中，第一个下拉菜单是通过javascript来创建的，根据表中的数据多少，而给予多少的下拉选项。

第二个下拉菜单让用户选择要修改的列
第三个输入框就是让用户输入要修改的值

至于为什么没有做删除数据，那是因为一来删除数据的操作与修改数据类似，二是因为在自增表中一般不删除数据的，仅仅是设置键值让这条数据隐藏
二、基本思想
程序入口是dbselect.php，操作数据库的过程分别是两个新页面，一个dbinsert.php，一个是dbupdate.php，这两个页面操作完数据库，马上通过javascript返回。

三、制作过程
（1）dbselect.php
也是本实现过程中，最复杂的一个页面
&amp;lt;!DOCTYPE html PUBLIC &amp;quot;-//W3C//DTD XHTML 1.0 Transitional//EN&amp;quot; &amp;quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&amp;quot;&amp;gt; 
&amp;lt;html xmlns=&amp;quot;http://www.w3.org/1999/xhtml&amp;quot;&amp;gt; 
&amp;lt;head&amp;gt; 
&amp;lt;meta http-equiv=&amp;quot;Content-Type&amp;quot; content=&amp;quot;text/html; charset=utf-8&amp;quot; /&amp;gt; 
&amp;lt;title&amp;gt;dbselect&amp;lt;/title&amp;gt; 
&amp;lt;/head&amp;gt; 
  
&amp;lt;body&amp;gt; 
user表： 
&amp;lt;table border=&amp;quot;1&amp;quot;&amp;gt; 
    &amp;lt;tr&amp;gt; 
        &amp;lt;td&amp;gt;id&amp;lt;/td&amp;gt; 
        &amp;lt;td&amp;gt;username&amp;lt;/td&amp;gt; 
        &amp;lt;td&amp;gt;password&amp;lt;/td&amp;gt; 
    &amp;lt;/tr&amp;gt; 
    &amp;lt;?php
    //php连接数据库的指定动作，其中第一个root是数据库的用户名，第二个root是数据库的密码 
    //如果连接失败，马上通过die语句打断后面的所有程序，只输出“连接失败” 
    $con=mysql_connect(&amp;quot;localhost&amp;quot;,&amp;quot;root&amp;quot;,&amp;quot;root&amp;quot;); 
    if(!$con){ 
    die(&amp;quot;连接失败！&amp;quot;); 
    } 
    //要操作test数据库 
    mysql_select_db(&amp;quot;test&amp;quot;,$con); 
    //total变量是用来记录user记录条数的 
    $total; 
    //要在test数据库中操作select count(*) as total from user语句并且把结果放到result变量里 
    $result=mysql_query(&amp;quot;select count(*) as total from user&amp;quot;); 
    //result变量是个数据，$total=$row[&amp;quot;total&amp;quot;];把查询结果中的total列的值赋予给php中的total变量 
    //$row=mysql_fetch_array($result)能够把当前行的值赋予给row数组，并把游标下移一行，游标并不需要初始化，自动完成 
    while($row=mysql_fetch_array($result)){ 
        $total=$row[&amp;quot;total&amp;quot;]; 
    } 
    
    //输出整个表的过程与上面的过程类此 
    $result=mysql_query(&amp;quot;select * from user&amp;quot;); 
    while($row=mysql_fetch_array($result)){ 
        echo &amp;quot;&amp;lt;tr&amp;gt;&amp;quot;; 
        echo &amp;quot;&amp;lt;td&amp;gt;${row[&amp;quot;id&amp;quot;]}&amp;lt;/td&amp;gt;&amp;quot;; 
        echo &amp;quot;&amp;lt;td&amp;gt;${row[&amp;quot;username&amp;quot;]}&amp;lt;/td&amp;gt;&amp;quot;; 
        echo &amp;quot;&amp;lt;td&amp;gt;${row[&amp;quot;password&amp;quot;]}&amp;lt;/td&amp;gt;&amp;quot;; 
        echo &amp;quot;&amp;lt;/tr&amp;gt;&amp;quot;; 
    } 
    //查询完毕，记得人走带门 
    mysql_close($con); 
    
    ?&amp;gt; 
&amp;lt;/table&amp;gt; 
&amp;lt;br /&amp;gt; 
  
&amp;lt;!--以下是两个表单，不再赘述了--&amp;gt;
插入数据： 
&amp;lt;form action=&amp;quot;dbinsert.php&amp;quot; method=&amp;quot;get&amp;quot;&amp;gt; 
    username:&amp;lt;input type=&amp;quot;text&amp;quot; name=&amp;quot;username&amp;quot; /&amp;gt; 
    password:&amp;lt;input type=&amp;quot;text&amp;quot; name=&amp;quot;password&amp;quot; /&amp;gt; 
    &amp;lt;input type=&amp;quot;submit&amp;quot; value=&amp;quot;go!&amp;quot; /&amp;gt; 
&amp;lt;/form&amp;gt; 
  
修改数据： 
&amp;lt;form action=&amp;quot;dbupdate.php&amp;quot; method=&amp;quot;get&amp;quot;&amp;gt; 
    &amp;lt;select id=&amp;quot;userid&amp;quot; name=&amp;quot;userid&amp;quot;&amp;gt;&amp;lt;/select&amp;gt; 
    &amp;lt;script&amp;gt; 
    //这是php与javascript交互部分，把上面求出来的php的$total变量，赋予给javascript的var total 
    var total=&amp;lt;?php echo $total; ?&amp;gt;; 
    var i=1; 
    for(i=1;i&amp;lt;total+1;i++){ 
    //javascript增加节点过程 
    var selectnode=document.createElement(&amp;quot;option&amp;quot;); 
    selectnode.value=i; 
    selectnode.innerHTML=i; 
    document.getElementById(&amp;quot;userid&amp;quot;).appendChild(selectnode); 
    } 
    &amp;lt;/script&amp;gt; 
    &amp;lt;select name=&amp;quot;rowname&amp;quot;&amp;gt; 
        &amp;lt;option value=&amp;quot;username&amp;quot;&amp;gt;username&amp;lt;/option&amp;gt; 
        &amp;lt;option value=&amp;quot;password&amp;quot;&amp;gt;password&amp;lt;/option&amp;gt; 
    &amp;lt;/select&amp;gt; 
    &amp;lt;input type=&amp;quot;text&amp;quot; name=&amp;quot;rowtext&amp;quot; /&amp;gt; 
    &amp;lt;input type=&amp;quot;submit&amp;quot; value=&amp;quot;go!&amp;quot; /&amp;gt; 
&amp;lt;/form&amp;gt; 
  
&amp;lt;/body&amp;gt; 
&amp;lt;/html&amp;gt;

javascript控制html节点的详细，可以参照我之前写的《【JavaScript】网页节点的增删改查》一文（点击打开链接）
（2）dbinsert.php
&amp;lt;!DOCTYPE html PUBLIC &amp;quot;-//W3C//DTD XHTML 1.0 Transitional//EN&amp;quot; &amp;quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&amp;quot;&amp;gt; 
&amp;lt;html xmlns=&amp;quot;http://www.w3.org/1999/xhtml&amp;quot;&amp;gt; 
&amp;lt;head&amp;gt; 
&amp;lt;meta http-equiv=&amp;quot;Content-Type&amp;quot; content=&amp;quot;text/html; charset=utf-8&amp;quot; /&amp;gt; 
&amp;lt;title&amp;gt;dbinsert.php&amp;lt;/title&amp;gt; 
&amp;lt;/head&amp;gt; 
  
&amp;lt;body&amp;gt; 
&amp;lt;?php
//首先从dbselect.php的表单中接受操作的数据 
//dbselect.php故意用到get方法，只是想说明php中对get与post的处理同样可以通过$_REQUEST[&amp;quot;变量名&amp;quot;]来实现 
$username=$_REQUEST[&amp;quot;username&amp;quot;]; 
$password=$_REQUEST[&amp;quot;password&amp;quot;]; 
//操作数据库的指定动作同dbselect.php。 
$con=mysql_connect(&amp;quot;localhost&amp;quot;,&amp;quot;root&amp;quot;,&amp;quot;root&amp;quot;); 
if(!$con){ 
    die(&amp;quot;连接失败！&amp;quot;); 
 } 
mysql_select_db(&amp;quot;test&amp;quot;,$con); 
//控制数据库比dbselect.php更加简单，因为不用对数据库的查询结果进行处理 
//只是要注意，这里连接字符串是用到.的，而不是jsp的+，asp的&amp;amp;，请注意！ 
mysql_query(&amp;quot;insert into user(username,password) values (&#39;&amp;quot;.$username.&amp;quot;&#39;,&#39;&amp;quot;.$password.&amp;quot;&#39;);&amp;quot;); 
mysql_close($con); 
?&amp;gt; 
&amp;lt;script&amp;gt; 
    alert(&amp;quot;添加成功&amp;quot;); 
    window.location.href=&amp;quot;dbselect.php&amp;quot; rel=&amp;quot;external nofollow&amp;quot; rel=&amp;quot;external nofollow&amp;quot; ; 
&amp;lt;/script&amp;gt; 
&amp;lt;/body&amp;gt; 
&amp;lt;/html&amp;gt;

（3）dbupdate.php
与dbinsert.php逻辑是一模一样的，只是mysql_query那个的查询语句，从insert into语句变成了update语句而已
&amp;lt;!DOCTYPE html PUBLIC &amp;quot;-//W3C//DTD XHTML 1.0 Transitional//EN&amp;quot; &amp;quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&amp;quot;&amp;gt; 
&amp;lt;html xmlns=&amp;quot;http://www.w3.org/1999/xhtml&amp;quot;&amp;gt; 
&amp;lt;head&amp;gt; 
&amp;lt;meta http-equiv=&amp;quot;Content-Type&amp;quot; content=&amp;quot;text/html; charset=utf-8&amp;quot; /&amp;gt; 
&amp;lt;title&amp;gt;无标题文档&amp;lt;/title&amp;gt; 
&amp;lt;/head&amp;gt; 
  
&amp;lt;body&amp;gt; 
&amp;lt;?php
$userid=$_REQUEST[&amp;quot;userid&amp;quot;]; 
$rowname=$_REQUEST[&amp;quot;rowname&amp;quot;]; 
$rowtext=$_REQUEST[&amp;quot;rowtext&amp;quot;]; 
$con=mysql_connect(&amp;quot;localhost&amp;quot;,&amp;quot;root&amp;quot;,&amp;quot;root&amp;quot;); 
if(!$con){ 
    die(&amp;quot;连接失败！&amp;quot;); 
 } 
mysql_select_db(&amp;quot;test&amp;quot;,$con); 
mysql_query(&amp;quot;update user set &amp;quot;.$rowname.&amp;quot;=&#39;&amp;quot;.$rowtext.&amp;quot;&#39; where id=&amp;quot;.$userid.&amp;quot;;&amp;quot;); 
mysql_close($con); 
?&amp;gt; 
&amp;lt;script&amp;gt; 
    alert(&amp;quot;修改成功&amp;quot;); 
    window.location.href=&amp;quot;dbselect.php&amp;quot; rel=&amp;quot;external nofollow&amp;quot; rel=&amp;quot;external nofollow&amp;quot; ; 
&amp;lt;/script&amp;gt; 
&amp;lt;/body&amp;gt; 
&amp;lt;/html&amp;gt;

以上，就是整个制作过程。

转载请注明来源，欢迎对文章中的引用来源进行考证，欢迎指出任何有错误或不够清晰的表达。可以在下面评论区评论，也可以邮件至 501596098@qq.com


文章标题:php数据库的增删改查及php与javascript之间的交互
本文作者:Buzi
发布时间:2019-07-30, 13:54:07
最后更新:2019-09-18, 15:09:30
原始链接:http://littlebuzi.github.io/2019/07/30/php/mysql_php/
版权声明: &amp;quot;署名-非商用-相同方式共享 4.0&amp;quot; 转载请保留原文链接及作者。


                                        </div>
                                        
                                            <a class="btn btn-text" href="https://littlebuzi.github.io/mysql_php/">Read More ~</a>
                            </div>
                </div>
            </article>
            
                <!-- 翻页 -->
                
                </div>
                <!--  -->
                <div class="main-container-middle"></div>
                <!--  -->
                <div id="sidebar" class="main-container-right">

                    <!-- 个人信息 -->
                    
    <div class="id_card i-card">
        <div class="id_card-avatar" style="background-image: url(https://littlebuzi.github.io//images/avatar.png?v=1620229439110)">
        </div>
        <h1 class="id_card-title">
            buzi
        </h1>
        <h2 class="id_card-description">
            记录平凡的修炼之路
        </h2>
        <!--  -->
        <div class="id_card-sns">
            <!-- github -->
            
                <a href="https://github.com/littlebuzi" target="_blank" rel="noopener noreferrer"><i
                class="fa fa-github"></i></a>
                
                    <!-- twitter -->
                    
                        <a href="https://github.com/littlebuzi" target="_blank" rel="noopener noreferrer"><i
                class="fa fa-wechat"></i></a>
                        
                            <!-- weibo -->
                            
                                <a href="https://github.com/littlebuzi" target="_blank" rel="noopener noreferrer"><i
                class="fa fa-qq"></i></a>
                                
                                    <!-- facebook -->
                                    
                                        <a href="https://space.bilibili.com/160195259" target="_blank" rel="noopener noreferrer"><i
                class="fa fa-youtube-play"></i></a>
                                        

        </div>
    </div>
    

                        <!-- 公告栏 -->
                        

                </div>
            </div>



            <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | 
  <a class="rss" href="https://littlebuzi.github.io//atom.xml" target="_blank">RSS</a>
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>

    </div>
    <script>
        $('#sidebar').stickySidebar({
            topSpacing: 80,
            // bottomSpacing: 60
        });
    </script>
</body>

</html>