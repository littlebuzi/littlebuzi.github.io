<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>buzi</title>
<meta name="description" content="记录平凡的修炼之路" />
<link rel="shortcut icon" href="https://littlebuzi.github.io//favicon.ico?v=1586268941998">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css">

<link rel="stylesheet" href="https://littlebuzi.github.io//styles/main.css">



  </head>
  <body>
    <div id="app" class="main px-4 flex flex-col lg:flex-row">
      <div id="sidebar" class="sidebar-wrapper lg:static lg:w-1/4">
  <div class="lg:sticky top-0">
    <div class="sidebar-content">
      <div class="flex lg:block p-4 lg:px-0 items-center fixed lg:static lg:block top-0 right-0 left-0 bg-white z-50">
        <i class="ri-menu-2-line lg:mt-4 text-2xl cursor-pointer animated fadeIn" onclick="openMenu()"></i>
        <a href="https://littlebuzi.github.io/">
          <img class="animated fadeInLeft avatar rounded-lg mx-4 lg:mt-32 lg:mx-0 mt-0 lg:w-24 lg:h-24 w-12 w-12" src="https://littlebuzi.github.io//images/avatar.png?v=1586268941998" alt="">
        </a>
        <h1 class="animated fadeInLeft lg:text-4xl font-extrabold lg:mt-8 mt-0 text-xl" style="animation-delay: 0.2s">buzi</h1>
      </div>
      
        <div class="animated fadeInLeft" style="animation-delay: 0.4s">
          <p class="my-4 text-gray-600 font-light hidden lg:block">
            文章目录
          </p>
          <div class="toc-container hidden lg:block">
            <ul class="markdownIt-TOC">
<li><a href="#%E5%8F%AF%E8%83%BD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98">可能遇到的问题：</a></li>
<li><a href="#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE">参考文献：</a></li>
<li><a href="#%E7%9B%B8%E4%BC%BC%E6%8E%A8%E8%8D%90%E6%9C%89%E5%8A%A9%E6%80%9D%E8%80%83">相似推荐，有助思考：</a>
<ul>
<li><a href="#%E8%BF%81%E7%A7%BB%E5%AD%A6%E4%B9%A0">迁移学习</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      
    </div>
  </div>
</div>

<div class="menu-container">
  <i class="ri-arrow-left-line text-2xl cursor-pointer animated fadeIn close-menu-btn" onclick="closeMenu()"></i>
  <div>
    
      
        <a href="/" class="menu" style="animation-delay: 0s">
          首页
        </a>
      
    
      
        <a href="/archives" class="menu" style="animation-delay: 0.2s">
          时间线
        </a>
      
    
      
        <a href="/tags" class="menu" style="animation-delay: 0.4s">
          分类
        </a>
      
    
      
        <a href="https://littlebuzi.github.io/about" class="menu" style="animation-delay: 0.6000000000000001s">
          关于
        </a>
      
    
  </div>
  <div class="site-footer">
    <div class="py-4 text-gray-700">Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a></div>
    <a class="rss" href="https://littlebuzi.github.io//atom.xml" target="_blank">RSS</a>
  </div>
</div>
<div class="mask" onclick="closeMenu()">
</div>
      <div class="content-wrapper py-32 lg:p-8 lg:w-3/4 post-detail animated fadeIn">
        <h1 class="text-3xl font-bold lg:mt-16">Tensorflow利用inception_v3模型和retrain实现图像分类训练</h1>
        <div class="text-sm text-gray-700 lg:my-8">
          2020-02-15 / 5 min read
        </div>
        
          <img class="post-feature-image rounded-lg mx-auto my-4" src="https://littlebuzi.github.io//post-images/tensorflow2.png" alt="">
        
        <div class="post-content yue">
          <p>参考文献：<br>
https://blog.csdn.net/ZeyiRTangent/article/details/87886445</p>
<p>#准备：</p>
<p>1.五个分类好存有各自类别的文件夹【文件夹及其内图片的名称全小写，绝对路径名中不能包含中文】</p>
<p>2.inception_v3模型下载，无需解压【http://download.tensorflow.org/models/image/imagenet/inception-2015-12-05.tgz】</p>
<p>3.克隆/下载 https://github.com/tensorflow/tensorflow &amp; https://github.com/tensorflow/hub （在~hub-master\examples\image_retraining中找到retrain.py文件，待会需要定位文件位置）</p>
<p>。。。</p>
<hr>
<h1 id="可能遇到的问题">可能遇到的问题：</h1>
<ol>
<li></li>
</ol>
<p>查看Windows下TensorFlow对python版本的要求<br>
https://blog.csdn.net/sinat_23619409/article/details/84202596</p>
<ol start="2">
<li></li>
</ol>
<p>windows10 conda python多版本切换<br>
https://www.cnblogs.com/simuhunluo/p/8540459.html</p>
<ol start="3">
<li></li>
</ol>
<p>windows 怎么更新 Python 版本（现有 Python 版本装了很多库）卸载重装，工作量就大了，有没有什么直接更新的方式，不会删库那种办法<br>
https://www.v2ex.com/amp/t/477473</p>
<ol start="4">
<li></li>
</ol>
<p>conda（anaconda）删除清华源，改回原源<br>
https://blog.csdn.net/qinglingLS/article/details/89363368</p>
<ol start="5">
<li></li>
</ol>
<p>PackagesNotFoundError: The following packages are not available from current channels:<br>
https://blog.csdn.net/miao0967020148/article/details/85230430</p>
<ol start="6">
<li></li>
</ol>
<p>迁移学习关于下载不了inception-v3，自己网络又加载不了的问题<br>
https://blog.csdn.net/nationalline450/article/details/82085007</p>
<p>原址：<br>
https://tfhub.dev/google/imagenet/inception_v3/feature_vector/3</p>
<ol start="7">
<li></li>
</ol>
<p>出现以下报错：</p>
<pre><code class="language-python">Warning! ***HDF5 library version mismatched error***
The HDF5 header files used to compile this application do not match
the version used by the HDF5 library to which this application is linked.
Data corruption or segmentation faults may occur if the application continues.
This can happen when an application was compiled by one version of HDF5 but
linked with a different version of static or shared HDF5 library.
You should recompile the application or check your shared library related
settings such as 'LD_LIBRARY_PATH'.
You can, at your own risk, disable this warning by setting the environment
variable 'HDF5_DISABLE_VERSION_CHECK' to a value of '1'.
Setting it to 2 or higher will suppress the warning messages totally.
Headers are 1.10.4, library is 1.10.5
        SUMMARY OF THE HDF5 CONFIGURATION
        =================================

General Information:
-------------------
                   HDF5 Version: 1.10.5
                  Configured on: 2019-03-04
  
... ... ... 
... ... ... 
 
          Function Stack Tracing: OFF
       Strict File Format Checks: OFF
    Optimization Instrumentation:
Bye...

</code></pre>
<p>（多版本导致冲突）pip uninstall h5py<br>
Ubuntu: HDF5报错: HDF5 header version与HDF5 library不匹配<br>
https://www.cnblogs.com/platero/p/4077934.html</p>
<p>Python环境中HDF5报错：HDF5 library version mismatched error<br>
https://blog.csdn.net/zhaoyin214/article/details/104095227</p>
<p>使用conda装完plt/pillow后，错误又出来了，详细看，conda在安装pillow时帮你安装hdf5版本了：<br>
再卸载一次h5py，然后可能提示：</p>
<p>ModuleNotFoundError: No module named 'matplotlib' ， python导入'matplotlib'包报错</p>
<p>解决：https://blog.csdn.net/weixin_43670105/article/details/87911820</p>
<p>【不能解决】 UserWarning: h5py is running against HDF5 1.10.2 when it was built against 1.10.3, this may ca...<br>
https://www.jianshu.com/p/c248bbea1da7</p>
<ol start="8">
<li></li>
</ol>
<p>tensorflow版本：2.0过高怎么办？</p>
<p>解决：</p>
<p>适当回退tensorflow版本：<br>
pip install tensorflow==1.13.1</p>
<p>安装Tensorflow 2.0后的坑has no attribute 'contrib'<br>
https://blog.51cto.com/cfy10/2446977?source=dra</p>
<p>ModuleNotFoundError: No module named 'tensorflow.contrib.rnn'<br>
https://blog.csdn.net/u014742995/article/details/86496292</p>
<ol start="9">
<li></li>
</ol>
<p>提示python版本过高、冲突（tensorflow版本）怎么办？</p>
<p>conda install python=3.6</p>
<p>Anaconda中将python 3.7版本退回python 3.6版本<br>
https://blog.csdn.net/Fhujinwu/article/details/85851587</p>
<p>遇到 label xxx no image found 类问题：<br>
如 提示：</p>
<pre><code>CRITICAL:tensorflow:Label 51 has no images in the category validation.
Tensorflow - No valid folders of images found at XXXXX #10104
ERROR:tensorflow:No valid folders of images found at
</code></pre>
<figure data-type="image" tabindex="1"><img src="https://littlebuzi.github.io//post-images/1584022703568.PNG" alt="" loading="lazy"></figure>
<p>https://github.com/tensorflow/tensorflow/issues/10104<br>
http://www.codeclip.com/4141.html</p>
<h1 id="参考文献">参考文献：</h1>
<p>https://blog.csdn.net/ZeyiRTangent/article/details/87886445</p>
<h1 id="相似推荐有助思考">相似推荐，有助思考：</h1>
<p>https://blog.csdn.net/weixin_38663832/article/details/80555341<br>
https://blog.csdn.net/EZ_guachong/article/details/90048846<br>
https://github.com/sourcedexter/tfClassifier<br>
https://stackoverflow.com/questions/45076911/tensorflow-failed-to-create-a-newwriteablefile-when-retraining-inception</p>
<h2 id="迁移学习">迁移学习</h2>
<p>https://blog.csdn.net/chaipp0607/article/details/73380390<br>
https://blog.csdn.net/Night___Raid/article/details/102975023</p>

        </div>

        
          <a class="animated fadeInUp p-2 items-center text-sm text-gray-700 border hover:bg-gray-300 leading-none rounded-full flex lg:inline-flex m-4 " href="https://littlebuzi.github.io/nKWkHExQP">
            <span class="flex-auto">python</span>
          </a>
        


        <div class="flex justify-between py-8">
          
            <div class="prev-post">
              <a href="https://littlebuzi.github.io/php_jicao_1">
                <h3 class="post-title">
                  <i class="ri-arrow-left-line"></i>
                  PHP、JS、CSS基操
                </h3>
              </a>
            </div>
          

          
            <div class="next-post">
              <a href="https://littlebuzi.github.io/tensorflow3">
                <h3 class="post-title">
                  TensorFlow支持的动漫人物识别网站的存储库
                  <i class="ri-arrow-right-line"></i>
                </h3>
              </a>
            </div>
          
        </div>

        
          
            <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<div id="gitalk-container"></div>

<script>

  var gitalk = new Gitalk({
    clientID: 'e7c2b33da7e627d57c5a',
    clientSecret: '70bd30bae9adc0e0559d863df193af430483bcd1',
    repo: 'littlebuzi.github.io',
    owner: 'littlebuzi',
    admin: ['littlebuzi'],
    id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
    distractionFreeMode: false  // Facebook-like distraction free mode
  })

  gitalk.render('gitalk-container')

</script>

          

          
        

      </div>
    </div>

    <script src="https://littlebuzi.github.io//media/prism.js"></script>  
<script>

Prism.highlightAll()
let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

// This should probably be throttled.
// Especially because it triggers during smooth scrolling.
// https://lodash.com/docs/4.17.10#throttle
// You could do like...
// window.addEventListener("scroll", () => {
//    _.throttle(doThatStuff, 100);
// });
// Only not doing it here to keep this Pen dependency-free.

window.addEventListener("scroll", event => {
  let fromTop = window.scrollY;

  mainNavLinks.forEach((link, index) => {
    let section = document.getElementById(decodeURI(link.hash).substring(1));
    let nextSection = null
    if (mainNavLinks[index + 1]) {
      nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
    }
    if (section.offsetTop <= fromTop) {
      if (nextSection) {
        if (nextSection.offsetTop > fromTop) {
          link.classList.add("current");
        } else {
          link.classList.remove("current");    
        }
      } else {
        link.classList.add("current");
      }
    } else {
      link.classList.remove("current");
    }
  });
});


document.addEventListener("DOMContentLoaded", function() {
  var lazyImages = [].slice.call(document.querySelectorAll(".post-feature-image.lazy"));

  if ("IntersectionObserver" in window) {
    let lazyImageObserver = new IntersectionObserver(function(entries, observer) {
      entries.forEach(function(entry) {
        if (entry.isIntersecting) {
          let lazyImage = entry.target
          lazyImage.style.backgroundImage = `url(${lazyImage.dataset.bg})`
          lazyImage.classList.remove("lazy")
          lazyImageObserver.unobserve(lazyImage)
        }
      });
    });

    lazyImages.forEach(function(lazyImage) {
      lazyImageObserver.observe(lazyImage)
    })
  } else {
    // Possibly fall back to a more compatible method here
  }
});

const menuContainer = document.querySelector('.menu-container')
const menus = document.querySelectorAll('.menu-container .menu')
const mask = document.querySelector('.mask')
const contentWrapper = document.querySelector('.content-wrapper')
const latestArticle = document.querySelector('.latest-article')
const readMore = document.querySelector('.read-more')
const indexPage = document.querySelector('.index-page')

const isHome = location.pathname === '/'
if (latestArticle) {
  latestArticle.style.display = isHome ? 'block' : 'none'
  readMore.style.display = isHome ? 'block' : 'none'
  indexPage.style.display = isHome ? 'none' : 'block'
}

const openMenu = () => {
  menuContainer.classList.add('open')
  menus.forEach(menu => {
    menu.classList.add('animated', 'fadeInLeft')
  })
  mask.classList.add('open')
  contentWrapper.classList.add('is-second')
}

const closeMenu = () => {
  menuContainer.classList.remove('open')
  menus.forEach(menu => {
    menu.classList.remove('animated', 'fadeInLeft')
  })
  mask.classList.remove('open')
  contentWrapper.classList.remove('is-second')
}
</script>
  
  </body>
</html>
